---
title: EWS limitação no Exchange
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: b4fff4c9-c625-4d2a-9d14-bb28a5da5baf
description: Saiba mais sobre as políticas de limitação que afetam o EWS quando você estiver usando o Exchange.
ms.openlocfilehash: 64393c173a6fc60cd4be969e8c7457d5b0109713
ms.sourcegitcommit: 9061fcf40c218ebe88911783f357b7df278846db
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/28/2018
ms.locfileid: "21354012"
---
# <a name="ews-throttling-in-exchange"></a><span data-ttu-id="c57a7-103">EWS limitação no Exchange</span><span class="sxs-lookup"><span data-stu-id="c57a7-103">EWS throttling in Exchange</span></span>

<span data-ttu-id="c57a7-104">Saiba mais sobre as políticas de limitação que afetam o EWS quando você estiver usando o Exchange.</span><span class="sxs-lookup"><span data-stu-id="c57a7-104">Learn about the throttling policies that affect EWS when you are using Exchange.</span></span>
  
<span data-ttu-id="c57a7-105">**Fornecido por:** Dimensiona Glen; Michael Mainer, Microsoft Corporation</span><span class="sxs-lookup"><span data-stu-id="c57a7-105">**Provided by:** Glen Scales; Michael Mainer, Microsoft Corporation</span></span> 
  
<span data-ttu-id="c57a7-106">O artigo fornece informações sobre limitação no Exchange Online, Exchange Online como parte do Office 365, do EWS e versões do Exchange, começando com o Exchange 2010 no local.</span><span class="sxs-lookup"><span data-stu-id="c57a7-106">The article provides information about EWS throttling in Exchange Online, Exchange Online as part of Office 365, and on-premises versions of Exchange starting with Exchange 2010.</span></span> <span data-ttu-id="c57a7-107">Limitação no Exchange ajuda a garantir a confiabilidade de servidor e o tempo de atividade, limitando a quantidade de recursos do servidor que um único usuário ou aplicativo pode consumir.</span><span class="sxs-lookup"><span data-stu-id="c57a7-107">Throttling in Exchange helps to ensure server reliability and uptime by limiting the amount of server resources that a single user or application can consume.</span></span> <span data-ttu-id="c57a7-108">Limitação é uma resposta reativa ao uso excessivo dos recursos do sistema que possam afetar a funcionalidade e confiabilidade de serviço.</span><span class="sxs-lookup"><span data-stu-id="c57a7-108">Throttling is a reactive response to overuse of system resources that may affect service reliability and functionality.</span></span> <span data-ttu-id="c57a7-109">Exchange constantemente monitora a integridade dos recursos de infraestrutura crítico, como bancos de dados de caixa de correio.</span><span class="sxs-lookup"><span data-stu-id="c57a7-109">Exchange constantly monitors the health of critical infrastructure resources, such as mailbox databases.</span></span> <span data-ttu-id="c57a7-110">Quando os fatores de carga alta são detectados que prejudicar o desempenho desses recursos, as conexões do EWS serão restritas proporcionalmente com base na quantidade que cada chamador tiver contribuíram para essa condição de carga alta.</span><span class="sxs-lookup"><span data-stu-id="c57a7-110">When high load factors are detected that degrade the performance of these resources, EWS connections are throttled proportionally based on the amount that each caller has contributed to this high load condition.</span></span> <span data-ttu-id="c57a7-111">O resultado é que um usuário pode estar dentro do seu limite de limitação e ainda enfrentar gargalos até que seja de integridade do recurso de volta aos níveis de operacionais.</span><span class="sxs-lookup"><span data-stu-id="c57a7-111">The result is that a user may be within their throttling limit and still experience slowdowns until the health of the resource is back to operational levels.</span></span>
  
<span data-ttu-id="c57a7-112">Cada protocolo de acesso do cliente no Exchange, incluindo o EWS, tem uma política de limitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-112">Each client access protocol in Exchange, including EWS, has a throttling policy.</span></span> <span data-ttu-id="c57a7-113">Ao criar aplicativos que usam o EWS, é importante levar em conta as políticas de limitação, para ajudar a garantir a confiabilidade do aplicativo e a integridade do seu servidor Exchange.</span><span class="sxs-lookup"><span data-stu-id="c57a7-113">When you design applications that use EWS, it is important to account for throttling policies, to help ensure application reliability and the health of your Exchange server.</span></span> <span data-ttu-id="c57a7-114">Este artigo identifica os limites de serviço e de diferentes políticas de limitação para o EWS, se você está direcionando o Exchange Online ou versões do Exchange começando com o Exchange Server 2010 ao local.</span><span class="sxs-lookup"><span data-stu-id="c57a7-114">This article identifies the different throttling policies and service limits for EWS, whether you are targeting Exchange Online or versions of Exchange on-premises starting with Exchange Server 2010.</span></span> <span data-ttu-id="c57a7-115">Conforme aplicável, este artigo também identifica as diferenças nas políticas em versões diferentes do Exchange de limitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-115">As applicable, this article also identifies differences in throttling policies in different versions of Exchange.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="c57a7-116">Padrão de diretiva de limitação, acesso a política de limitação e configuração de diretiva de limitação difere entre o Exchange Online e do Exchange local.</span><span class="sxs-lookup"><span data-stu-id="c57a7-116">Default throttling policy, access to throttling policy, and throttling policy configuration differs between Exchange Online and Exchange on-premises.</span></span> <span data-ttu-id="c57a7-117">Valores de configuração de limitação específicos somente são precisos para uma versão específica do Exchange.</span><span class="sxs-lookup"><span data-stu-id="c57a7-117">Specific throttling setting values are only accurate for a specific version of Exchange.</span></span> <span data-ttu-id="c57a7-118">Como os valores de configuração variam entre versões, e os administradores do Exchange podem alterar o padrão de limitação de políticas para implantações em instalações, este artigo não fornece o padrão valores de configuração.</span><span class="sxs-lookup"><span data-stu-id="c57a7-118">Because setting values vary across versions, and because Exchange administrators can change the default throttling policies for on-premises deployments, this article does not provide the default setting values.</span></span> <span data-ttu-id="c57a7-119">É mais importante para que você esteja ciente das considerações para projetar um aplicativo que funciona dentro de limites de limitação e reage apropriadamente para cenários de limitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-119">It is more important for you to be aware of the considerations for designing an application that functions within throttling limits and reacts appropriately to throttling scenarios.</span></span> 
  
<span data-ttu-id="c57a7-120">Se você for um desenvolvedor de aplicativos, você precisará fator limitação em seu design de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c57a7-120">If you are an application developer, you need to factor throttling into your application design.</span></span> <span data-ttu-id="c57a7-121">Versões diferentes do Exchange têm valores padrão diferente para os parâmetros de limitação EWS.</span><span class="sxs-lookup"><span data-stu-id="c57a7-121">Different versions of Exchange have different default values for the EWS throttling parameters.</span></span> <span data-ttu-id="c57a7-122">Aplicativos cliente e o serviço projetadas para acessar as versões diferentes do Exchange precisarão de levar em conta para essas configurações, quer estejam valores padrão, os valores personalizados definidos por um administrador do Exchange, ou, como Exchange Online, definidos por padrão e não detectáveis.</span><span class="sxs-lookup"><span data-stu-id="c57a7-122">Client and service applications that are designed to access different versions of Exchange will need to account for these settings, whether they be default values, custom values set by an Exchange administrator, or, as for Exchange Online, set by default and not discoverable.</span></span> <span data-ttu-id="c57a7-123">Porque os valores de parâmetro de limitação não pode ser descoberto programaticamente, suas especificações de design do cliente devem incluir um plano para o aplicativo para se adaptar potencial diferente limites de limitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-123">Because throttling parameter values cannot be discovered programmatically, your client design specifications should include a plan for the application to adapt to different potential throttling limits.</span></span> <span data-ttu-id="c57a7-124">Ao criar aplicativos multithread que irão acessar um grande número de caixas de correio ou quando muitos clientes estão acessando a mesma caixa de correio, considere os limites de simultaneidade que a política padrão se aplica ao Exchange.</span><span class="sxs-lookup"><span data-stu-id="c57a7-124">When you design multithreaded applications that will access a large number of mailboxes, or when many clients are accessing the same mailbox, consider the limits on concurrency that the default policy applies to Exchange.</span></span> 
  
## <a name="throttling-policies-that-affect-ews"></a><span data-ttu-id="c57a7-125">Políticas de limitação que afetam o EWS</span><span class="sxs-lookup"><span data-stu-id="c57a7-125">Throttling policies that affect EWS</span></span>
<span data-ttu-id="c57a7-126"><a name="bk_PolicyParameters"> </a></span><span class="sxs-lookup"><span data-stu-id="c57a7-126"></span></span>

<span data-ttu-id="c57a7-127">A limitação de políticas em afetam do Exchange não apenas EWS, mas também todas as conexões de cliente para o servidor do Exchange, incluindo os protocolos usados pelo Office Outlook, Outlook Web App e Exchange ActiveSync.</span><span class="sxs-lookup"><span data-stu-id="c57a7-127">The throttling polices in Exchange affect not only EWS, but also all client connections to the Exchange server, including the protocols used by Office Outlook, Outlook Web App, and Exchange ActiveSync.</span></span> 
  
<span data-ttu-id="c57a7-128">**CPUStartPercent** política de limitação pode afetar o desempenho de EWS quando você estiver executando o Exchange 2010.</span><span class="sxs-lookup"><span data-stu-id="c57a7-128">The **CPUStartPercent** throttling policy can affect EWS performance when you are running Exchange 2010.</span></span> <span data-ttu-id="c57a7-129">Quando a utilização média de CPU do Exchange processa executado no servidor de acesso para cliente — incluindo, mas não limitado, o processo EWS — excede o valor especificado por essa diretiva, as solicitações de entrada serão atrasadas para reduzir a utilização da CPU.</span><span class="sxs-lookup"><span data-stu-id="c57a7-129">When the average CPU utilization of Exchange processes running on the Client Access server — including, but not limited to, the EWS process — exceeds the value specified by this policy, inbound requests will be delayed to reduce CPU utilization.</span></span> <span data-ttu-id="c57a7-130">Você não pode alterar o valor dessa diretiva, mas saber sobre ele pode ajudá-lo a solucionar problemas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="c57a7-130">You cannot change the value of this policy, but knowing about it can help you troubleshoot performance issues.</span></span> <span data-ttu-id="c57a7-131">A lógica de amostragem, que o servidor de acesso para cliente executa para esse valor é uma média sobre um segundo 10 aplicação da janela.</span><span class="sxs-lookup"><span data-stu-id="c57a7-131">The sampling logic the Client Access server performs for this value is an average over a 10 second rolling window.</span></span> <span data-ttu-id="c57a7-132">Isso permite que o processo responder apropriadamente a rápida picos de utilização da CPU.</span><span class="sxs-lookup"><span data-stu-id="c57a7-132">This allows the process to respond appropriately to quick spikes in CPU utilization.</span></span> <span data-ttu-id="c57a7-133">Quando esse limite for excedido, conexões de entrada para o EWS atraso.</span><span class="sxs-lookup"><span data-stu-id="c57a7-133">When this threshold is exceeded, inbound connections to EWS are delayed.</span></span> <span data-ttu-id="c57a7-134">Esse atraso está limitado a 500 milissegundos (MS) em um uso de CPU de 100% teórico por solicitação do EWS.</span><span class="sxs-lookup"><span data-stu-id="c57a7-134">This delay is capped at 500 milliseconds (msecs) at a theoretical 100% CPU usage per EWS request.</span></span> <span data-ttu-id="c57a7-135">Se uma solicitação EWS em lote para obter 100 itens é passada, o servidor verificará o uso da CPU 100 vezes (uma vez por item) para um atraso máximo de 50 segundos.</span><span class="sxs-lookup"><span data-stu-id="c57a7-135">If a batch EWS request to get 100 items is passed, the server will check the CPU usage 100 times (once per item) for a maximum delay of 50 seconds.</span></span> <span data-ttu-id="c57a7-136">O tempo de atraso é linearmente proporcional ao uso da CPU.</span><span class="sxs-lookup"><span data-stu-id="c57a7-136">The delay time is linearly proportional to CPU usage.</span></span> <span data-ttu-id="c57a7-137">Em **CPUStartPercent**, o atraso é 0 (um rendimento thread) e aumenta linearmente até 500 ms no uso de CPU de 100%.</span><span class="sxs-lookup"><span data-stu-id="c57a7-137">At **CPUStartPercent**, the delay is 0 (a thread yield) and it increases linearly up to 500 msec at 100% CPU usage.</span></span> <span data-ttu-id="c57a7-138">Como políticas de limitação se aplicam a todos os usuários do Exchange, é improvável que o uso da CPU excede o limite de **CPUStartPercent** em um servidor de acesso para cliente do Exchange, porque a usuários individuais ou aplicativos não podem obter o suficiente para afetar de utilização da CPU operação do servidor.</span><span class="sxs-lookup"><span data-stu-id="c57a7-138">Because throttling policies apply to all Exchange users, it's unlikely that CPU usage would exceed the **CPUStartPercent** limit on an Exchange Client Access server, because individual users or applications cannot gain enough CPU utilization to affect server operation.</span></span> 
  
<span data-ttu-id="c57a7-139">A tabela a seguir lista os parâmetros de política de limitação que afetam os aplicativos que usam o EWS.</span><span class="sxs-lookup"><span data-stu-id="c57a7-139">The following table lists the throttling policy parameters that affect applications that use EWS.</span></span>
  
<span data-ttu-id="c57a7-140">**Tabela 1: Limitação parâmetros de política que afetam o EWS**</span><span class="sxs-lookup"><span data-stu-id="c57a7-140">**Table 1: Throttling policy parameters that affect EWS**</span></span>

|<span data-ttu-id="c57a7-141">**Nome do parâmetro de política de limitação**</span><span class="sxs-lookup"><span data-stu-id="c57a7-141">**Throttling policy parameter name**</span></span>|<span data-ttu-id="c57a7-142">**Aplica-se a**</span><span class="sxs-lookup"><span data-stu-id="c57a7-142">**Applies to**</span></span>|<span data-ttu-id="c57a7-143">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="c57a7-143">**Description**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="c57a7-144">**DiscoveryMaxConcurrency**</span><span class="sxs-lookup"><span data-stu-id="c57a7-144">**DiscoveryMaxConcurrency**</span></span> <br/> |<span data-ttu-id="c57a7-145">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-145">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-146">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-146">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-147">Especifica o número de conexões de pesquisa de descoberta simultâneas que um usuário pode ter ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="c57a7-147">Specifies the number of concurrent discovery search connections that a user can have at the same time.</span></span>  <br/> |
|<span data-ttu-id="c57a7-148">**DiscoveryMaxKeywords**</span><span class="sxs-lookup"><span data-stu-id="c57a7-148">**DiscoveryMaxKeywords**</span></span> <br/> |<span data-ttu-id="c57a7-149">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-149">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-150">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-150">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-151">Especifica o número máximo de palavras-chave que um usuário pode incluir em uma pesquisa de descoberta.</span><span class="sxs-lookup"><span data-stu-id="c57a7-151">Specifies the maximum number of keywords that a user can include in a discovery search.</span></span>  <br/> |
|<span data-ttu-id="c57a7-152">**DiscoveryMaxKeywordsPerPage**</span><span class="sxs-lookup"><span data-stu-id="c57a7-152">**DiscoveryMaxKeywordsPerPage**</span></span> <br/> |<span data-ttu-id="c57a7-153">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-153">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-154">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-154">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-155">Especifica o número de palavras-chave para as quais exibir estatísticas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-155">Specifies the number of keywords for which to show statistics.</span></span>  <br/> |
|<span data-ttu-id="c57a7-156">**DiscoveryMaxMailboxes**</span><span class="sxs-lookup"><span data-stu-id="c57a7-156">**DiscoveryMaxMailboxes**</span></span> <br/> |<span data-ttu-id="c57a7-157">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-157">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-158">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-158">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-159">Especifica o número máximo de caixas de correio de origem que um usuário pode incluir em uma pesquisa de descoberta.</span><span class="sxs-lookup"><span data-stu-id="c57a7-159">Specifies the maximum number of source mailboxes that a user can include in a discovery search.</span></span>  <br/> |
|<span data-ttu-id="c57a7-160">**DiscoveryMaxMailboxesResultsOnly**</span><span class="sxs-lookup"><span data-stu-id="c57a7-160">**DiscoveryMaxMailboxesResultsOnly**</span></span> <br/> |<span data-ttu-id="c57a7-161">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-161">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-162">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-162">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-163">Especifica o número máximo de caixas de correio que você pode pesquisar em uma pesquisa eDiscovery no pesquisa sem poder exibir as estatísticas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-163">Specifies the maximum number of mailboxes you can search in an In-Place eDiscovery search without being able to view the statistics.</span></span>  <br/> |
|<span data-ttu-id="c57a7-164">**DiscoveryPreviewSearchResultsPageSize**</span><span class="sxs-lookup"><span data-stu-id="c57a7-164">**DiscoveryPreviewSearchResultsPageSize**</span></span> <br/> |<span data-ttu-id="c57a7-165">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-165">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-166">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-166">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-167">Especifica o número de mensagens retornadas em uma resposta de visualização de pesquisa de descoberta eletrônica.</span><span class="sxs-lookup"><span data-stu-id="c57a7-167">Specifies the number of messages returned in a eDiscovery search preview response.</span></span>  <br/> |
|<span data-ttu-id="c57a7-168">**EwsCutoffBalance**</span><span class="sxs-lookup"><span data-stu-id="c57a7-168">**EwsCutoffBalance**</span></span> <br/> |<span data-ttu-id="c57a7-169">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-169">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-170">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-170">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-171">Define os limites de consumo de recursos para o usuário do EWS antes que o usuário seja bloqueado totalmente para executar operações em um componente específico.</span><span class="sxs-lookup"><span data-stu-id="c57a7-171">Defines the resource consumption limits for EWS user before that user is completely blocked from performing operations on a specific component.</span></span>  <br/> |
|<span data-ttu-id="c57a7-172">**EwsMaxBurst**</span><span class="sxs-lookup"><span data-stu-id="c57a7-172">**EwsMaxBurst**</span></span> <br/> |<span data-ttu-id="c57a7-173">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-173">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-174">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-174">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-175">Define a quantidade de tempo que um usuário do EWS pode consumir uma quantidade elevada de recursos antes que está sendo limitadas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-175">Defines the amount of time that an EWS user can consume an elevated amount of resources before being throttled.</span></span> <span data-ttu-id="c57a7-176">Isso é medido em milissegundos.</span><span class="sxs-lookup"><span data-stu-id="c57a7-176">This is measured in milliseconds.</span></span> <span data-ttu-id="c57a7-177">Esse valor é definido separadamente para cada componente.</span><span class="sxs-lookup"><span data-stu-id="c57a7-177">This value is set separately for each component.</span></span>  <br/> |
|<span data-ttu-id="c57a7-178">**EwsRechargeRate**</span><span class="sxs-lookup"><span data-stu-id="c57a7-178">**EwsRechargeRate**</span></span> <br/> |<span data-ttu-id="c57a7-179">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-179">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-180">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-180">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-181">Define a taxa na qual o orçamento de usuário do EWS é recarregado (orçamento aumenta por) durante o tempo do orçamento.</span><span class="sxs-lookup"><span data-stu-id="c57a7-181">Defines the rate at which an EWS user's budget is recharged (budget grows by) during the budget time.</span></span>  <br/> |
|<span data-ttu-id="c57a7-182">**EWSMaxSubscriptions**</span><span class="sxs-lookup"><span data-stu-id="c57a7-182">**EWSMaxSubscriptions**</span></span> <br/> |<span data-ttu-id="c57a7-183">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="c57a7-183">Exchange 2010</span></span>  <br/> <span data-ttu-id="c57a7-184">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-184">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-185">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-185">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-186">Define o número máximo de push ativo, recepção e streaming inscrições de notificação de que um usuário pode ter ao mesmo tempo em um servidor de acesso para cliente específico.</span><span class="sxs-lookup"><span data-stu-id="c57a7-186">Defines the maximum number of active push, pull, and streaming notification subscriptions that a user can have on a specific Client Access server at one time.</span></span> <span data-ttu-id="c57a7-187">Isso é orçado forma diferente para diferentes versões do Exchange.</span><span class="sxs-lookup"><span data-stu-id="c57a7-187">This is budgeted differently for different Exchange versions.</span></span>  <br/> |
|<span data-ttu-id="c57a7-188">**EWSFastSearchTimeoutInSeconds**</span><span class="sxs-lookup"><span data-stu-id="c57a7-188">**EWSFastSearchTimeoutInSeconds**</span></span> <br/> |<span data-ttu-id="c57a7-189">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="c57a7-189">Exchange 2010</span></span>  <br/> |<span data-ttu-id="c57a7-190">Define a quantidade de tempo em segundos, que fast pesquisas feitas por meio de pesquisa do Exchange no EWS continuam antes que eles expirarem. Buscas Fast são feitas por meio de uma cadeia de caracteres de consulta de sintaxe de consulta avançada (AQS) em uma [operação FindItem](http://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="c57a7-190">Defines the amount of time in seconds that fast searches made by using Exchange Search in EWS continue before they time out. Fast searches are searches made by using an Advanced Query Syntax (AQS) query string in a [FindItem operation](http://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx).</span></span>  <br/> |
|<span data-ttu-id="c57a7-191">**EWSFindCountLimit**</span><span class="sxs-lookup"><span data-stu-id="c57a7-191">**EWSFindCountLimit**</span></span> <br/> |<span data-ttu-id="c57a7-192">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="c57a7-192">Exchange 2010</span></span>  <br/> <span data-ttu-id="c57a7-193">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-193">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-194">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-194">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-195">Define o número máximo de itens de uma [operação FindItem](http://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx) ou [FindFolder operação](http://msdn.microsoft.com/library/7a9855aa-06cc-45ba-ad2a-645c15b7d031%28Office.15%29.aspx) que podem existir na memória do servidor de acesso para cliente para um usuário de uma só vez.</span><span class="sxs-lookup"><span data-stu-id="c57a7-195">Defines the maximum number of items from a [FindItem operation](http://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx) or [FindFolder operation](http://msdn.microsoft.com/library/7a9855aa-06cc-45ba-ad2a-645c15b7d031%28Office.15%29.aspx) that can exist in memory on the Client Access server at one time for one user.</span></span> <span data-ttu-id="c57a7-196">O valor padrão para essa propriedade é 1000.</span><span class="sxs-lookup"><span data-stu-id="c57a7-196">The default value for this property is 1000.</span></span> <span data-ttu-id="c57a7-197">O [valor de fallback](http://technet.microsoft.com/en-us/library/dd297964%28v=exchg.141%29.aspx#fallback)para esse valor é 1.000.</span><span class="sxs-lookup"><span data-stu-id="c57a7-197">The [fallback value](http://technet.microsoft.com/en-us/library/dd297964%28v=exchg.141%29.aspx#fallback)for this value is 1000.</span></span>  <br/> <span data-ttu-id="c57a7-198">No Exchange Online e versões de local do Exchange, começando com o Exchange 2013, essa política de limitação não pode ser consultada ou configurada por um cmdlet.</span><span class="sxs-lookup"><span data-stu-id="c57a7-198">In Exchange Online and on-premises versions of Exchange starting with Exchange 2013, this throttling policy cannot be queried or configured by a cmdlet.</span></span> <span data-ttu-id="c57a7-199">Nas versões do Exchange Online e no local do Exchange, começando com o Exchange 2013, o EWSFindCountLimit para [pesquisa AQS](how-to-perform-an-aqs-search-by-using-ews-in-exchange.md) e qualquer Exchange pesquisa com uma restrição é 250 resultados.</span><span class="sxs-lookup"><span data-stu-id="c57a7-199">In Exchange Online and on-premises versions of Exchange starting with Exchange 2013, the EWSFindCountLimit for [AQS search](how-to-perform-an-aqs-search-by-using-ews-in-exchange.md) and any Exchange search with a restriction is 250 results.</span></span> <span data-ttu-id="c57a7-200">Uma pesquisa do Exchange sem uma restrição retornará até 1000 resultados.</span><span class="sxs-lookup"><span data-stu-id="c57a7-200">An Exchange search without a restriction will return up to 1000 results.</span></span>  <br/> |
|<span data-ttu-id="c57a7-201">**EWSPercentTimeInAD**</span><span class="sxs-lookup"><span data-stu-id="c57a7-201">**EWSPercentTimeInAD**</span></span> <br/> |<span data-ttu-id="c57a7-202">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="c57a7-202">Exchange 2010</span></span>  <br/> |<span data-ttu-id="c57a7-203">Define a porcentagem de tempo por minuto durante o qual um usuário específico pode executar solicitações do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c57a7-203">Defines the percentage of time per minute during which a specific user can execute Active Directory requests.</span></span>  <br/> |
|<span data-ttu-id="c57a7-204">**EWSPercentTimeInCAS**</span><span class="sxs-lookup"><span data-stu-id="c57a7-204">**EWSPercentTimeInCAS**</span></span> <br/> |<span data-ttu-id="c57a7-205">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="c57a7-205">Exchange 2010</span></span>  <br/> |<span data-ttu-id="c57a7-206">Define a porcentagem de tempo por minuto durante o qual um usuário específico pode executar o código de servidor de acesso para cliente.</span><span class="sxs-lookup"><span data-stu-id="c57a7-206">Defines the percentage of time per minute during which a specific user can execute Client Access server code.</span></span>  <br/> |
|<span data-ttu-id="c57a7-207">**EWSPercentTimeInMailboxRPC**</span><span class="sxs-lookup"><span data-stu-id="c57a7-207">**EWSPercentTimeInMailboxRPC**</span></span> <br/> |<span data-ttu-id="c57a7-208">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="c57a7-208">Exchange 2010</span></span>  <br/> |<span data-ttu-id="c57a7-209">Define a porcentagem de tempo por minuto durante o qual um usuário específico pode executar solicitações RPC de caixa de correio</span><span class="sxs-lookup"><span data-stu-id="c57a7-209">Defines the percentage of time per minute during which a specific user can execute mailbox RPC requests</span></span>  <br/> |
|<span data-ttu-id="c57a7-210">**EWSMaxConcurrency**</span><span class="sxs-lookup"><span data-stu-id="c57a7-210">**EWSMaxConcurrency**</span></span> <br/> |<span data-ttu-id="c57a7-211">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="c57a7-211">Exchange 2010</span></span>  <br/> <span data-ttu-id="c57a7-212">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-212">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-213">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-213">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-214">Define o número de conexões abertas simultâneas que um usuário específico pode ter em relação a um servidor do Exchange que está usando o EWS ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="c57a7-214">Defines the number of concurrent open connections that a specific user can have against an Exchange server that is using EWS at one time.</span></span> <span data-ttu-id="c57a7-215">O valor padrão para o Exchange 2010 é 10.</span><span class="sxs-lookup"><span data-stu-id="c57a7-215">The default value for Exchange 2010 is 10.</span></span> <span data-ttu-id="c57a7-216">O valor padrão para o Exchange 2013 e Exchange Online é 27.</span><span class="sxs-lookup"><span data-stu-id="c57a7-216">The default value for Exchange 2013 and Exchange Online is 27.</span></span>  <br/> <span data-ttu-id="c57a7-217">Essa política se aplica a todas as operações, exceto as notificações de fluxo contínuo.</span><span class="sxs-lookup"><span data-stu-id="c57a7-217">This policy applies to all operations except for streaming notifications.</span></span> <span data-ttu-id="c57a7-218">Notificações de streaming usam o **HangingConnectionLimit** para indicar o número de conexões abertas do streaming evento que estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="c57a7-218">Streaming notifications use the **HangingConnectionLimit** to indicate the number of open streaming event connections that are available.</span></span> <span data-ttu-id="c57a7-219">Para obter mais informações, consulte [quais valores limitação eu preciso levar em consideração?](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling).</span><span class="sxs-lookup"><span data-stu-id="c57a7-219">For more information, see [What throttling values do I need to take into consideration?](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling).</span></span>  <br/> |
|<span data-ttu-id="c57a7-220">**MessageRateLimit**</span><span class="sxs-lookup"><span data-stu-id="c57a7-220">**MessageRateLimit**</span></span> <br/> |<span data-ttu-id="c57a7-221">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="c57a7-221">Exchange 2010</span></span>  <br/> <span data-ttu-id="c57a7-222">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-222">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-223">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-223">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-224">Define o número de mensagens por minuto que possa ser enviado.</span><span class="sxs-lookup"><span data-stu-id="c57a7-224">Defines the number of messages per minute that can be submitted.</span></span>  <br/> |
|<span data-ttu-id="c57a7-225">**RecipientRateLimit**</span><span class="sxs-lookup"><span data-stu-id="c57a7-225">**RecipientRateLimit**</span></span> <br/> |<span data-ttu-id="c57a7-226">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="c57a7-226">Exchange 2010</span></span>  <br/> <span data-ttu-id="c57a7-227">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-227">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-228">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-228">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-229">Define o limite ao número de destinatários que um usuário pode endereçar em um período de 24 horas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-229">Defines the limit to the number of recipients that a user can address in a 24-hour period.</span></span>  <br/> |
|<span data-ttu-id="c57a7-230">**ForwardeeLimit**</span><span class="sxs-lookup"><span data-stu-id="c57a7-230">**ForwardeeLimit**</span></span> <br/> |<span data-ttu-id="c57a7-231">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="c57a7-231">Exchange 2010</span></span>  <br/> <span data-ttu-id="c57a7-232">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-232">Exchange 2013</span></span>  <br/> <span data-ttu-id="c57a7-233">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-233">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-234">Define o limite para o número de destinatários para ações de encaminhamento/redirecionamento da caixa de entrada em um período de 24 horas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-234">Defines the limit to the number of recipients for Inbox forward/redirect actions in a 24-hour period.</span></span>  <br/> |
   
> [!CAUTION]
> <span data-ttu-id="c57a7-235">Não definir políticas de limitação para **Nulo**.</span><span class="sxs-lookup"><span data-stu-id="c57a7-235">Do not set throttling polices to **null**.</span></span> <span data-ttu-id="c57a7-236">Isso definirá a política como igual ilimitado, que indica que uma política de limitação não estiver definida.</span><span class="sxs-lookup"><span data-stu-id="c57a7-236">This will set the policy to equal unlimited, which indicates that a throttling policy isn't set.</span></span> 
  
## <a name="displaying-the-policies-that-apply-to-exchange-mailboxes"></a><span data-ttu-id="c57a7-237">Exibindo as políticas que se aplicam às caixas de correio do Exchange</span><span class="sxs-lookup"><span data-stu-id="c57a7-237">Displaying the policies that apply to Exchange mailboxes</span></span>
<span data-ttu-id="c57a7-238"><a name="bk_PolicyCmdlets"> </a></span><span class="sxs-lookup"><span data-stu-id="c57a7-238"></span></span>

<span data-ttu-id="c57a7-239">Exchange local fornece cmdlets do Shell de gerenciamento do Exchange que você pode usar para definir e obter a política de limitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-239">Exchange on-premises provides Exchange Management Shell cmdlets that you can use to set and get throttling policy.</span></span> <span data-ttu-id="c57a7-240">O Exchange Online não fornece acesso aos cmdlets de política de limitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-240">Exchange Online does not provide access to the throttling policy cmdlets.</span></span>
  
<span data-ttu-id="c57a7-241">Você pode usar os seguintes cmdlets para exibir a limitação de políticas para uma implantação do Exchange Server local:</span><span class="sxs-lookup"><span data-stu-id="c57a7-241">You can use the following cmdlets to display throttling polices for an on-premises Exchange Server deployment:</span></span>
  
- <span data-ttu-id="c57a7-242">**Get-ThrottlingPolicy** — obtém o cliente limitação configurações para uma ou mais políticas de limitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-242">**Get-ThrottlingPolicy** — Gets the client throttling settings for one or more throttling policies.</span></span> <span data-ttu-id="c57a7-243">Para obter mais informações, consulte [Get-ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd351264.aspx) no TechNet.</span><span class="sxs-lookup"><span data-stu-id="c57a7-243">For more information, see [Get-ThrottlingPolicy ](http://technet.microsoft.com/en-us/library/dd351264.aspx) on TechNet.</span></span> 
    
- <span data-ttu-id="c57a7-244">**Get-ThrottlingPolicyAssociation** — permite que você exiba o relacionamento entre um objeto e suas políticas de limitação associadas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-244">**Get-ThrottlingPolicyAssociation** — Enables you to view the relationship between an object and its associated throttling policies.</span></span> <span data-ttu-id="c57a7-245">O objeto pode ser um usuário com uma caixa de correio, um usuário sem uma caixa de correio ou um contato.</span><span class="sxs-lookup"><span data-stu-id="c57a7-245">The object can be a user with a mailbox, a user without a mailbox, or a contact.</span></span> <span data-ttu-id="c57a7-246">Para obter mais informações, consulte [Get-ThrottlingPolicyAssociation](http://technet.microsoft.com/en-us/library/ff459241.aspx) no TechNet.</span><span class="sxs-lookup"><span data-stu-id="c57a7-246">For more information, see [Get-ThrottlingPolicyAssociation](http://technet.microsoft.com/en-us/library/ff459241.aspx) on TechNet.</span></span> 
    
<span data-ttu-id="c57a7-247">Use o seguinte comando para mostrar a diretiva padrão de limitação para o Exchange 2010.</span><span class="sxs-lookup"><span data-stu-id="c57a7-247">Use the following command to show the default throttling policy for Exchange 2010.</span></span>
  
<span data-ttu-id="c57a7-248">**Get-ThrottlingPolicy | Where-Object {$_. IsDefault - eq "True"} | format-list**</span><span class="sxs-lookup"><span data-stu-id="c57a7-248">**Get-ThrottlingPolicy | Where-Object {$_.IsDefault -eq "True"} | format-list**</span></span>
  
<span data-ttu-id="c57a7-249">Use o seguinte comando para mostrar a diretiva de limitação global (que corresponde à diretiva padrão de limitação no Exchange 2010) no Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="c57a7-249">Use the following command to show the global throttling policy (which equates to the default throttling policy in Exchange 2010) in Exchange 2013.</span></span>
  
<span data-ttu-id="c57a7-250">**Get-ThrottlingPolicy | Where-Object {$_. ThrottlingPolicyScope - eq "Global"} | format-list**</span><span class="sxs-lookup"><span data-stu-id="c57a7-250">**Get-ThrottlingPolicy | Where-Object {$_.ThrottlingPolicyScope -eq "Global"} | format-list**</span></span>
  
<span data-ttu-id="c57a7-251">Use o seguinte comando para mostrar a limitação política associada a um usuário no Exchange 2010 ou Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="c57a7-251">Use the following command to show the throttling policy associated with a user in Exchange 2010 or Exchange 2013.</span></span> <span data-ttu-id="c57a7-252">Substitua o nome de usuário john@contoso.com com o nome de usuário do usuário de destino para o qual você deseja obter informações sobre a diretiva de limitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-252">Replace the user name john@contoso.com with the user name of the target user for whom you want to get throttling policy information.</span></span>
  
<span data-ttu-id="c57a7-253">**Get-ThrottlingPolicyAssociation john@contoso.com | format-list**</span><span class="sxs-lookup"><span data-stu-id="c57a7-253">**Get-ThrottlingPolicyAssociation john@contoso.com | format-list**</span></span>
  
<span data-ttu-id="c57a7-254">Executar este comando no Exchange Management Shell resulta em uma saída semelhante à seguinte.</span><span class="sxs-lookup"><span data-stu-id="c57a7-254">Running this command in Exchange Management Shell results in an output similar to the following.</span></span>
  
```powershell
PS C:\>Get-ThrottlingPolicyAssociation john@contoso.com
RunspaceId               : 72153d6-9dce-2fae-8dbd-5ca5f760g2df
ObjectId                 : john
ThrottlingPolicyId       :
Name                     : john
Identity                 : FHXB-28178dom.contoso.com/Users/john
IsValid                  : True
NeedsToSuppressPii       : False
ExchangeVersion          : 0.10 (15.0.0.0)
DistinguishedName        : CN=john,CN=Users,DC=FHXB-28178dom,DC=contoso,DC=com
Guid                     : 2c10dab6-de28-1937-ad8g-535832613a08
```

> [!NOTE]
> <span data-ttu-id="c57a7-255">Quando a propriedade **ThrottlingPolicyId** estiver em branco, a política padrão é aplicada à caixa de correio.</span><span class="sxs-lookup"><span data-stu-id="c57a7-255">When the **ThrottlingPolicyId** property is blank, the default policy is applied to the mailbox.</span></span> 
  
<span data-ttu-id="c57a7-256">Você pode definir a limitação de diretiva em um servidor do Exchange usando os cmdlets [Set-ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd298094.aspx) e [Set-ThrottlingPolicyAssociation](http://technet.microsoft.com/en-us/library/ff459231.aspx) .</span><span class="sxs-lookup"><span data-stu-id="c57a7-256">You can set throttling policy on an Exchange server by using the [Set-ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd298094.aspx) and [Set-ThrottlingPolicyAssociation](http://technet.microsoft.com/en-us/library/ff459231.aspx) cmdlets.</span></span> <span data-ttu-id="c57a7-257">Você pode criar e remover políticas de limitação usando os cmdlets [New-ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd351045.aspx) e [Remove-ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd351178.aspx) de não-padrão.</span><span class="sxs-lookup"><span data-stu-id="c57a7-257">You can create and remove nondefault throttling policies by using the [New-ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd351045.aspx) and [Remove-ThrottlingPolicy](http://technet.microsoft.com/en-us/library/dd351178.aspx) cmdlets.</span></span> 
  
> [!TIP]
> <span data-ttu-id="c57a7-258">Recomendamos que você crie seus aplicativos para cumpram a diretiva padrão de limitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-258">We recommend that you design your applications to adhere to the default throttling policy.</span></span> <span data-ttu-id="c57a7-259">Só faça alterações como padrão as políticas de limitação se o projeto do seu aplicativo de cliente não puder acomodar a política padrão.</span><span class="sxs-lookup"><span data-stu-id="c57a7-259">Only make changes to default throttling policies if your client application design cannot accommodate the default policy.</span></span> <span data-ttu-id="c57a7-260">Lembre-se de que as políticas de limitação menos restritivas podem afetar negativamente confiabilidade de serviço.</span><span class="sxs-lookup"><span data-stu-id="c57a7-260">Be aware that less restrictive throttling policies can negatively affect service reliability.</span></span> 

<span data-ttu-id="c57a7-261"><a name="bk_ThrottlingConsiderations"> </a></span><span class="sxs-lookup"><span data-stu-id="c57a7-261"></span></span>

## <a name="throttling-considerations-for-applications-that-use-ews-impersonation"></a><span data-ttu-id="c57a7-262">Considerações de limitação para aplicativos que utilizam a representação do EWS</span><span class="sxs-lookup"><span data-stu-id="c57a7-262">Throttling considerations for applications that use EWS impersonation</span></span>


<span data-ttu-id="c57a7-263">[Representação](impersonation-and-ews-in-exchange.md) é um método de autorização que permite uma única conta acessar as contas de muitos.</span><span class="sxs-lookup"><span data-stu-id="c57a7-263">[Impersonation](impersonation-and-ews-in-exchange.md) is an authorization method that enables a single account to access many accounts.</span></span> <span data-ttu-id="c57a7-264">Quando uma conta de serviço personifica usuários, ele atua como os usuários e, portanto, pressupõe os direitos que são atribuídos aos usuários.</span><span class="sxs-lookup"><span data-stu-id="c57a7-264">When a service account impersonates users, it acts as the users and therefore assumes the rights that are assigned to those users.</span></span> <span data-ttu-id="c57a7-265">Arquivos de log registram o acesso como usuário representado.</span><span class="sxs-lookup"><span data-stu-id="c57a7-265">Log files record the access as the impersonated user.</span></span> <span data-ttu-id="c57a7-266">Os administradores usar o controle de acesso baseado em função (RBAC) para configurar a representação por meio do Shell de gerenciamento do Exchange.</span><span class="sxs-lookup"><span data-stu-id="c57a7-266">Administrators use role-based access control (RBAC) to configure impersonation via the Exchange Management Shell.</span></span> 
  
<span data-ttu-id="c57a7-267">Quando representação é usada, os orçamentos para todos os limites de limitação aplicam formas diferentes dependendo da versão do Exchange.</span><span class="sxs-lookup"><span data-stu-id="c57a7-267">When impersonation is used, the budgets for all the throttling thresholds apply differently depending on the version of Exchange.</span></span> <span data-ttu-id="c57a7-268">O orçamento é calculado ou contra a conta que é representada, ou a conta de serviço.</span><span class="sxs-lookup"><span data-stu-id="c57a7-268">The budget is either calculated against the account that is impersonated, or the service account.</span></span> <span data-ttu-id="c57a7-269">Se seu aplicativo é multithreaded e torna solicitações simultâneas em relação a várias caixas de correio, você deve considerar como o limite da limitação afetará o desempenho do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c57a7-269">If your application is multithreaded and makes concurrent requests against multiple mailboxes, you should consider how the throttling threshold will affect your application's performance.</span></span> <span data-ttu-id="c57a7-270">Em geral, esteja ciente dos seguintes limites em contas de serviço quando você cria um aplicativo baseado no serviço que usa a representação para acessar todas as caixas de correio:</span><span class="sxs-lookup"><span data-stu-id="c57a7-270">In general, be aware of the following limits on service accounts when you create a service-based application that uses impersonation to access all mailboxes:</span></span> 
  
- <span data-ttu-id="c57a7-271">Quando você usa a representação, a conta de serviço tem um orçamento separado para os seguintes parâmetros de política:</span><span class="sxs-lookup"><span data-stu-id="c57a7-271">When you use Impersonation, the service account has a separate budget for the following policy parameters:</span></span>
    
  - <span data-ttu-id="c57a7-272">**EWSMaxConcurrency**</span><span class="sxs-lookup"><span data-stu-id="c57a7-272">**EWSMaxConcurrency**</span></span>
    
  - <span data-ttu-id="c57a7-273">**EWSPercentTimeInAD**</span><span class="sxs-lookup"><span data-stu-id="c57a7-273">**EWSPercentTimeInAD**</span></span>
    
  - <span data-ttu-id="c57a7-274">**EWSPercentTimeInCAS**</span><span class="sxs-lookup"><span data-stu-id="c57a7-274">**EWSPercentTimeInCAS**</span></span>
    
  - <span data-ttu-id="c57a7-275">**EWSPercentTimeInMailboxRPC**</span><span class="sxs-lookup"><span data-stu-id="c57a7-275">**EWSPercentTimeInMailboxRPC**</span></span>
    
  - <span data-ttu-id="c57a7-276">**EWSMaxSubscriptions**</span><span class="sxs-lookup"><span data-stu-id="c57a7-276">**EWSMaxSubscriptions**</span></span>
    
  - <span data-ttu-id="c57a7-277">**EWSFastSearchTimeoutInSeconds**</span><span class="sxs-lookup"><span data-stu-id="c57a7-277">**EWSFastSearchTimeoutInSeconds**</span></span>
    
  - <span data-ttu-id="c57a7-278">**EWSFindCountLimit**</span><span class="sxs-lookup"><span data-stu-id="c57a7-278">**EWSFindCountLimit**</span></span>
    
- <span data-ttu-id="c57a7-279">O orçamento **EWSMaxConcurrency** é compartilhado para a conta de serviço e a conta que está sendo representada para todas as conexões com versões anteriores ao Exchange 2010 Service Pack 2 (SP2) cumulativo de atualizações 4 (RU4) do Exchange.</span><span class="sxs-lookup"><span data-stu-id="c57a7-279">The **EWSMaxConcurrency** budget is shared for the service account and the account being impersonated for all connections to versions of Exchange earlier than Exchange 2010 Service Pack 2 (SP2) Update Rollup 4 (RU4).</span></span> <span data-ttu-id="c57a7-280">Começando com o Exchange 2010 SP2 RU4 e incluindo o Exchange Online, o acesso à conta de serviço usa um orçamento separado do orçamento **EWSMaxConcurrency** usuário.</span><span class="sxs-lookup"><span data-stu-id="c57a7-280">Starting with Exchange 2010 SP2 RU4, and including Exchange Online, the service account access uses a separate budget from the user **EWSMaxConcurrency** budget.</span></span> <span data-ttu-id="c57a7-281">Para obter mais informações sobre a atualização para a diretiva de limitação de conexão simultâneas do Exchange para o EWS, consulte [Descrição do Update Rollup 4 para Exchange Server 2010 Service Pack 2](http://support.microsoft.com/kb/2706690).</span><span class="sxs-lookup"><span data-stu-id="c57a7-281">For more information about the update to the Exchange concurrent connection throttling policy for EWS, see [Description of Update Rollup 4 for Exchange Server 2010 Service Pack 2](http://support.microsoft.com/kb/2706690).</span></span>
    
    <span data-ttu-id="c57a7-282">EWS streaming notificações nas versões do Exchange, começando com o Exchange 2010 e incluindo o Exchange Online, tem um orçamento de **EWSMaxConcurrency** clonado adicional de todas as outras conexões de cliente do EWS.</span><span class="sxs-lookup"><span data-stu-id="c57a7-282">EWS streaming notifications in versions of Exchange starting with Exchange 2010, and including Exchange Online, have an additional cloned **EWSMaxConcurrency** budget from all other EWS client connections.</span></span> <span data-ttu-id="c57a7-283">Streaming de conexões de notificação são contados contra um orçamento separado que todas as outras operações de EWS.</span><span class="sxs-lookup"><span data-stu-id="c57a7-283">Streaming notification connections are counted against a separate budget than all other EWS operations.</span></span> <span data-ttu-id="c57a7-284">O orçamento de simultaneidade máximo de notificação streaming é realmente dois diferentes orçamentos: um orçamento é para todas as contas de serviço e um orçamento é para a conta sendo representada.</span><span class="sxs-lookup"><span data-stu-id="c57a7-284">The streaming notification maximum concurrency budget is actually two different budgets: one budget is for all service accounts, and one budget is for the account being impersonated.</span></span> <span data-ttu-id="c57a7-285">Notificações de fluxo no Exchange Online e versões do Exchange, começando com o Exchange 2013 usam o [HangingConnectionLimit](ews-throttling-in-exchange.md#bk_ThrottlingNotifications) para limitar o número de conexões.</span><span class="sxs-lookup"><span data-stu-id="c57a7-285">Streaming notifications in Exchange Online and versions of Exchange starting with Exchange 2013 use the [HangingConnectionLimit](ews-throttling-in-exchange.md#bk_ThrottlingNotifications) to limit the number of connections.</span></span> 
    
    <span data-ttu-id="c57a7-286">Por exemplo, vamos supor que **EWSMaxConcurrency** é igual a cinco.</span><span class="sxs-lookup"><span data-stu-id="c57a7-286">For example, let's assume that **EWSMaxConcurrency** is equal to five.</span></span> <span data-ttu-id="c57a7-287">Um usuário pode ter cinco conexões de notificação de recepção open, enquanto uma conta de serviço pode ter cinco conexões de notificação de recepção simultâneas em relação a caixa de correio do usuário ao mesmo tempo que o usuário.</span><span class="sxs-lookup"><span data-stu-id="c57a7-287">A user can have five open pull notification connections, while an service account can have five concurrent pull notification connections against the user's mailbox at the same time as the user.</span></span> 
    
- <span data-ttu-id="c57a7-288">A tabela a seguir identifica como orçamentos de limitação de **EWSMaxSubscriptions** são calculados entre a conta de serviço e a conta para representar.</span><span class="sxs-lookup"><span data-stu-id="c57a7-288">The following table identifies how **EWSMaxSubscriptions** throttling budgets are calculated between the service account and the account to impersonate.</span></span> 
    
   <span data-ttu-id="c57a7-289">**Tabela 2: Estatísticas de orçamento de EWSMaxSubscriptions**</span><span class="sxs-lookup"><span data-stu-id="c57a7-289">**Table 2: EWSMaxSubscriptions budget accounting**</span></span>

   |<span data-ttu-id="c57a7-290">**Versão do Exchange**</span><span class="sxs-lookup"><span data-stu-id="c57a7-290">**Exchange version**</span></span>|<span data-ttu-id="c57a7-291">**EWSMaxSubscriptions estatísticas de orçamento de limitação**</span><span class="sxs-lookup"><span data-stu-id="c57a7-291">**EWSMaxSubscriptions throttling budget accounting**</span></span>|
   |:-----|:-----|
   |<span data-ttu-id="c57a7-292">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="c57a7-292">Exchange Online</span></span>  <br/> |<span data-ttu-id="c57a7-293">Cobrado contra a caixa de correio de destino.</span><span class="sxs-lookup"><span data-stu-id="c57a7-293">Charged against the target mailbox.</span></span>  <br/> |
   |<span data-ttu-id="c57a7-294">Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="c57a7-294">Exchange 2013</span></span>  <br/> |<span data-ttu-id="c57a7-295">Cobrado contra a caixa de correio de destino.</span><span class="sxs-lookup"><span data-stu-id="c57a7-295">Charged against the target mailbox.</span></span>  <br/> |
   |<span data-ttu-id="c57a7-296">Exchange 2010 SP3</span><span class="sxs-lookup"><span data-stu-id="c57a7-296">Exchange 2010 SP3</span></span>  <br/> |<span data-ttu-id="c57a7-297">Cobrado contra a caixa de correio de destino.</span><span class="sxs-lookup"><span data-stu-id="c57a7-297">Charged against the target mailbox.</span></span>  <br/> |
   |<span data-ttu-id="c57a7-298">Exchange 2010 SP3</span><span class="sxs-lookup"><span data-stu-id="c57a7-298">Exchange 2010 SP2</span></span>  <br/> |<span data-ttu-id="c57a7-299">Cobrado contra a conta de chamada.</span><span class="sxs-lookup"><span data-stu-id="c57a7-299">Charged against the calling account.</span></span> <span data-ttu-id="c57a7-300">Iniciando com o Exchange 2010 SP2 RU4, o orçamento é cobrado contra a caixa de correio de destino.</span><span class="sxs-lookup"><span data-stu-id="c57a7-300">Starting with Exchange 2010 SP2 RU4, the budget is charged against the target mailbox.</span></span>  <br/> |
   |<span data-ttu-id="c57a7-301">Exchange 2010 SP1</span><span class="sxs-lookup"><span data-stu-id="c57a7-301">Exchange 2010 SP1</span></span>  <br/> |<span data-ttu-id="c57a7-302">Cobrado contra a conta de chamada.</span><span class="sxs-lookup"><span data-stu-id="c57a7-302">Charged against the calling account.</span></span>  <br/> |
   |<span data-ttu-id="c57a7-303">Exchange 2010</span><span class="sxs-lookup"><span data-stu-id="c57a7-303">Exchange 2010</span></span>  <br/> |<span data-ttu-id="c57a7-304">Cobrado contra a conta de chamada.</span><span class="sxs-lookup"><span data-stu-id="c57a7-304">Charged against the calling account.</span></span>  <br/> |
   
- <span data-ttu-id="c57a7-305">Como o **EWSMaxSubscriptions** limitação orçamento é cobrado contra a conta que está sendo representada, não há nenhum limite no número de caixas de correio de uma conta de serviço pode assinar e receber notificações de streaming, desde que seja de representação sendo usado.</span><span class="sxs-lookup"><span data-stu-id="c57a7-305">Because the **EWSMaxSubscriptions** throttling budget is charged against the account being impersonated, there is no limit on the number of mailboxes a service account can subscribe to and receive streaming notifications for, as long as impersonation is being used.</span></span> <span data-ttu-id="c57a7-306">Para a conta que está sendo representada, você não pode ter mais de _n_ de solicitações simultâneas por caixa de correio de destino, onde _n_ é o valor de **EWSMaxSubscriptions** .</span><span class="sxs-lookup"><span data-stu-id="c57a7-306">For the account being impersonated, you can't have more than  _n_ concurrent requests per target mailbox, where  _n_ is the **EWSMaxSubscriptions** value.</span></span> <span data-ttu-id="c57a7-307">Se você não estivesse usando representação, a mesma conta de serviço não poderia ter mais do que o total de solicitações simultâneas _n_ .</span><span class="sxs-lookup"><span data-stu-id="c57a7-307">If you were not using impersonation, the same service account could not have more than  _n_ concurrent requests total.</span></span> <span data-ttu-id="c57a7-308">Portanto, o argumento é que usando representação em uma conta de serviço, você exponencial aumenta o número de caixas de correio que você pode atender.</span><span class="sxs-lookup"><span data-stu-id="c57a7-308">So, the takeaway is that by using impersonation on a service account, you exponentially increase the number of mailboxes you can service.</span></span> <span data-ttu-id="c57a7-309">Para obter mais informações, consulte [Manter afinidade entre um grupo de assinaturas e o servidor de caixa de correio no Exchange](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md).</span><span class="sxs-lookup"><span data-stu-id="c57a7-309">For more information, see [Maintain affinity between a group of subscriptions and the Mailbox server in Exchange](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md).</span></span>
    
- <span data-ttu-id="c57a7-310">Os parâmetros de política **EWSPercentTimeInMailboxRPC**, **EWSPercentTimeInCAS**e **EWSPercentTimeInAD** consultem ações executadas por um único segmento.</span><span class="sxs-lookup"><span data-stu-id="c57a7-310">The **EWSPercentTimeInMailboxRPC**, **EWSPercentTimeInCAS**, and **EWSPercentTimeInAD** policy parameters refer to actions performed by a single thread.</span></span> <span data-ttu-id="c57a7-311">Quando um aplicativo realiza várias operações simultâneas, você deve levar em consideração o efeito cumulativo dessas operações na cota de recursos do usuário.</span><span class="sxs-lookup"><span data-stu-id="c57a7-311">When an application performs multiple concurrent operations, you should account for the cumulative effect of these operations on the user resource budget.</span></span> 
    
## <a name="throttling-implications-for-ews-batch-requests"></a><span data-ttu-id="c57a7-312">Limitação implicações para solicitações de lote EWS</span><span class="sxs-lookup"><span data-stu-id="c57a7-312">Throttling implications for EWS batch requests</span></span>
<span data-ttu-id="c57a7-313"><a name="bk_ThrottlingBatch"> </a></span><span class="sxs-lookup"><span data-stu-id="c57a7-313"></span></span>

<span data-ttu-id="c57a7-314">EWS permite várias solicitações de item de lote em uma única solicitação que é executada pelo servidor de acesso para cliente.</span><span class="sxs-lookup"><span data-stu-id="c57a7-314">EWS enables you to batch multiple item requests into a single request that is executed by the Client Access server.</span></span> <span data-ttu-id="c57a7-315">Isso permite maior eficiência e o desempenho.</span><span class="sxs-lookup"><span data-stu-id="c57a7-315">This allows for greater efficiency and performance.</span></span> <span data-ttu-id="c57a7-316">Quando um servidor Exchange executa uma solicitação em lote, ele verifica orçamento de usuário depois da execução de cada item no lote.</span><span class="sxs-lookup"><span data-stu-id="c57a7-316">When an Exchange server executes a batched request, it checks the user's budget after the execution of each item within the batch.</span></span> <span data-ttu-id="c57a7-317">Se o aplicativo estiver acima do orçamento, o processamento do próximo item no lote foi adiado até que o orçamento para que o usuário tem recarregada.</span><span class="sxs-lookup"><span data-stu-id="c57a7-317">If the application is over budget, the processing of the next item in the batch is delayed until the budget for that user has recharged.</span></span> <span data-ttu-id="c57a7-318">Para garantir que aplicativos que usam operações em lotes é executado com êxito, limite o número de solicitações de item que pode ser incluído em um único lote e dividir grandes lotes entre vários lotes menores para aumentar a confiabilidade dos resultados.</span><span class="sxs-lookup"><span data-stu-id="c57a7-318">To ensure that applications that use batch operations run successfully, limit the number of item requests that can be included in a single batch, and divide large batches across multiple smaller batches to increase the reliability of the results.</span></span> <span data-ttu-id="c57a7-319">O efeito que uma operação em lote tem nos limites de limitação determinados depende do tipo da solicitação, o tamanho dos itens a serem processados (por exemplo, em operações **UploadItems** ou **ExportItems** ) e o conteúdo de caixa de correio.</span><span class="sxs-lookup"><span data-stu-id="c57a7-319">The effect that a batch operation has on particular throttling thresholds depends on the type of the request, the size of the items to be processed (for example in **UploadItems** or **ExportItems** operations) and the mailbox content.</span></span> <span data-ttu-id="c57a7-320">Políticas de limitação afetam operações em lotes, fazendo com que a solicitação para levar mais tempo para o processo.</span><span class="sxs-lookup"><span data-stu-id="c57a7-320">Throttling policies affect batch operations by causing the request to take longer to process.</span></span> <span data-ttu-id="c57a7-321">O chamador, portanto, será necessário aguardar pela resposta mais e, como EWS limita o tempo de execução de uma solicitação de lote um minuto, a chamada poderá expirar.</span><span class="sxs-lookup"><span data-stu-id="c57a7-321">The caller will therefore have to wait longer for the response, and, because EWS limits the execution time of a batch request to one minute, the call could time out.</span></span> 
  
<span data-ttu-id="c57a7-322">Para determinar o tamanho de lote ideal para um aplicativo, execute a unidade teste usando que diversas entradas define para garantir que o aplicativo não encontrar erros em um ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="c57a7-322">To determine the optimum batch size for an application, perform unit testing using various input sets to ensure that the application does not encounter any errors in a production environment.</span></span> 
  
## <a name="throttling-policy-parameters-that-affect-ews-search-operations"></a><span data-ttu-id="c57a7-323">Parâmetros de política de limitação que afetam o EWS operações de pesquisa</span><span class="sxs-lookup"><span data-stu-id="c57a7-323">Throttling policy parameters that affect EWS search operations</span></span>
<span data-ttu-id="c57a7-324"><a name="bk_ThrottlingSearch"> </a></span><span class="sxs-lookup"><span data-stu-id="c57a7-324"></span></span>

<span data-ttu-id="c57a7-325">[Operações de pesquisa no EWS](search-and-ews-in-exchange.md) pode exigir grandes quantidades de tempo e recursos, dependendo de como a pesquisa é executada e quais informações são solicitadas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-325">[Search operations in EWS](search-and-ews-in-exchange.md) can require large amounts of time and resources, depending on how the search is run and what information is requested.</span></span> <span data-ttu-id="c57a7-326">Para controlar o uso do recurso durante as pesquisas, dois parâmetros de diretiva entrem em vigor: **EWSFastSearchTimeoutInSeconds** e **EWSFindCountLimit**.</span><span class="sxs-lookup"><span data-stu-id="c57a7-326">To control resource usage during searches, two policy parameters take effect: **EWSFastSearchTimeoutInSeconds** and **EWSFindCountLimit**.</span></span> 
  
<span data-ttu-id="c57a7-327">O parâmetro de política **EWSFastSearchTimeoutInSeconds** Especifica a quantidade de tempo, em segundos, que pesquisas rápidas do EWS (também conhecido como conteúda pesquisa indexação) executado antes que o tempo limite é ultrapassado. Uma pesquisa rápida é uma pesquisa feita por meio de uma cadeia de caracteres de consulta de sintaxe de consulta avançada (AQS) em uma [operação FindItem](http://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="c57a7-327">The **EWSFastSearchTimeoutInSeconds** policy parameter specifies the amount of time, in seconds, that EWS fast searches (also known as content indexing search) run before they time out. A fast search is a search made by using an Advanced Query Syntax (AQS) query string in a [FindItem operation](http://msdn.microsoft.com/library/ebad6aae-16e7-44de-ae63-a95b24539729%28Office.15%29.aspx).</span></span>
  
<span data-ttu-id="c57a7-328">Você pode pesquisar uma pasta de caixa de correio do Exchange de duas maneiras:</span><span class="sxs-lookup"><span data-stu-id="c57a7-328">You can search an Exchange mailbox folder in two ways:</span></span>
  
- <span data-ttu-id="c57a7-329">Usando uma pesquisa de repositório do Exchange, que executa um exame sequencial de todas as mensagens no escopo da pesquisa de destino.</span><span class="sxs-lookup"><span data-stu-id="c57a7-329">By using an Exchange store search, which performs a sequential scan of all messages in the target search scope.</span></span>
    
- <span data-ttu-id="c57a7-330">Usando o serviço de pesquisa do Exchange (indexação de conteúdo).</span><span class="sxs-lookup"><span data-stu-id="c57a7-330">By using the Exchange Search service (content indexing).</span></span>
    
<span data-ttu-id="c57a7-331">Ambos os tipos de pesquisas podem resultar em tempos limite.</span><span class="sxs-lookup"><span data-stu-id="c57a7-331">Both of these types of searches can result in timeouts.</span></span> <span data-ttu-id="c57a7-332">Quando possível, use o serviço de pesquisa do Exchange porque essas pesquisas frequentemente visadas nos índices de caixa de correio e usam AQS consultas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-332">When possible, use the Exchange Search service because these searches are often targeted against mailbox indexes and use AQS queries.</span></span> <span data-ttu-id="c57a7-333">O exemplo a seguir mostra como executar uma pesquisa AQS da caixa de entrada usando o EWS e o serviço de pesquisa do Exchange.</span><span class="sxs-lookup"><span data-stu-id="c57a7-333">The following example shows how to perform an AQS search of the Inbox by using EWS and the Exchange Search service.</span></span>
  
```cs
ItemView iv = new ItemView(1000);
FindItemsResults<Item> fiitems = service.FindItems(WellKnownFolderName.Inbox, "subject:football", iv);
```

<span data-ttu-id="c57a7-334">Se você não pode usar uma pesquisa AQS, evite usar filtros de pesquisa muito complexa.</span><span class="sxs-lookup"><span data-stu-id="c57a7-334">If you can't use an AQS search, avoid using overly complex search filters.</span></span> <span data-ttu-id="c57a7-335">Além disso, tente evitar a criação de filtros de pesquisa com base em valores computados, se a consulta envolve as propriedades estendidas de MAPI.</span><span class="sxs-lookup"><span data-stu-id="c57a7-335">Also try to avoid creating search filters based on computed values if the query involves extended MAPI properties.</span></span> <span data-ttu-id="c57a7-336">Pesquisa AQS foi introduzida no Exchange 2010.</span><span class="sxs-lookup"><span data-stu-id="c57a7-336">AQS search was introduced in Exchange 2010.</span></span>
  
> [!NOTE]
> <span data-ttu-id="c57a7-337">Na primeira vez que você executar uma consulta de pesquisa de repositório Exchange complexa, ele é executado muito lentamente e talvez o tempo limite. Depois disso, a consulta responderá mais rapidamente.</span><span class="sxs-lookup"><span data-stu-id="c57a7-337">The first time you run a complex Exchange store search query, it runs very slowly and may time out. After that, the query will respond more quickly.</span></span> <span data-ttu-id="c57a7-338">Para obter mais informações sobre o back-end Exchange processos do servidor que ocorrem durante o intercâmbio de armazenar consultas de pesquisa, consulte [Noções básicas sobre o desempenho do impacto de alta Item contagens e exibições restritas](http://technet.microsoft.com/en-us/library/cc535025%28EXCHG.80%29.aspx) no TechNet.</span><span class="sxs-lookup"><span data-stu-id="c57a7-338">For more information about the backend Exchange server processes that occur during Exchange store search queries, see [Understanding the Performance Impact of High Item Counts and Restricted Views](http://technet.microsoft.com/en-us/library/cc535025%28EXCHG.80%29.aspx) on TechNet.</span></span> <span data-ttu-id="c57a7-339">Usar um **SearchFilter** cria uma restrição dinâmica que ajuda a consultas semelhantes no futuro, mas como essas restrições são dinâmicas de natureza temporária, eles não são permanente ou confiável e são excluídos após um máximo de três dias.</span><span class="sxs-lookup"><span data-stu-id="c57a7-339">Using a **SearchFilter** creates a dynamic restriction that helps similar queries in the future, but because these restrictions are dynamic in nature, they are not permanent or reliable, and are deleted after a maximum of three days.</span></span> 
  
<span data-ttu-id="c57a7-340">O parâmetro de política de **EWSFindCountLimit** Especifica o número máximo de itens dos resultados de uma operação de **FindItem** ou **FindFolder** que podem existir na memória em um servidor de acesso para cliente ao mesmo tempo para um único usuário.</span><span class="sxs-lookup"><span data-stu-id="c57a7-340">The **EWSFindCountLimit** policy parameter specifies the maximum number of items from the results of a **FindItem** or **FindFolder** operation that can exist in memory on a Client Access server at the same time for one user.</span></span> <span data-ttu-id="c57a7-341">Cada item ou a pasta que o EWS processa em uma solicitação **FindItem** ou **FindFolder** é contada em relação ao orçamento especificado no elemento **EWSFindCountLimit** .</span><span class="sxs-lookup"><span data-stu-id="c57a7-341">Every item or folder that EWS processes in a **FindItem** or **FindFolder** request is counted against the budget specified in the **EWSFindCountLimit** element.</span></span> <span data-ttu-id="c57a7-342">Quando a resposta será enviada para o solicitante, a carga de contagem de localização para a chamada atual é liberada.</span><span class="sxs-lookup"><span data-stu-id="c57a7-342">When the response is sent back to the requester, the find count charge for the current call is released.</span></span> <span data-ttu-id="c57a7-343">A resposta, que o servidor retorna para um solicitante quando o orçamento é excedido baseia-se o valor do elemento **RequestServerVersion** e se o solicitante especificado paginação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-343">The response the server returns to a requester when the budget is exceeded is based on the **RequestServerVersion** element value and whether the requester specified paging.</span></span> <span data-ttu-id="c57a7-344">Quando o valor do elemento **RequestServerVersion** indica o Exchange 2010 ou uma versão anterior do Exchange, o servidor envia uma resposta de falha com o código de erro **ErrorServerBusy**.</span><span class="sxs-lookup"><span data-stu-id="c57a7-344">When the value of the **RequestServerVersion** element indicates Exchange 2010 or an earlier version of Exchange, the server sends a failure response with error code **ErrorServerBusy**.</span></span> <span data-ttu-id="c57a7-345">Se o valor do elemento **RequestServerVersion** indica uma versão do Exchange começando com o Exchange 2010 SP1 ou Exchange Online e o cliente está usando paginação, EWS pode retornar um conjunto, em vez de um erro de resultados parcial.</span><span class="sxs-lookup"><span data-stu-id="c57a7-345">If the value of the **RequestServerVersion** element indicates a version of Exchange starting with Exchange 2010 SP1 or Exchange Online, and the client is using paging, EWS may return a partial result set instead of an error.</span></span> <span data-ttu-id="c57a7-346">Seu aplicativo deve esperar que o EWS não pode retornar todos os itens.</span><span class="sxs-lookup"><span data-stu-id="c57a7-346">Your application should expect that EWS might not return all items.</span></span> <span data-ttu-id="c57a7-347">Se o valor do elemento **IncludesLastItemInRange** for false, o aplicativo deve fazer outra solicitação **FindItem** ou **FindFolder** com o deslocamento de novo e continue até que o elemento **IncludesLastItemInRange** retornará true.</span><span class="sxs-lookup"><span data-stu-id="c57a7-347">If the value of the **IncludesLastItemInRange** element is false, the application should make another **FindItem** or **FindFolder** request with the new offset and continue until the **IncludesLastItemInRange** element returns true.</span></span> 
  
<span data-ttu-id="c57a7-348">Quando você usa uma operação **FindItem** ou **FindFolder** , é importante usar paginação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-348">When you use a **FindItem** or **FindFolder** operation, it is important to use paging.</span></span> <span data-ttu-id="c57a7-349">A API gerenciada de EWS impõe o uso de paginação, mas se você estiver usando outros métodos, como objetos de proxy do EWS ou bruto SOAP, você precisará definir explicitamente a paginação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-349">The EWS Managed API enforces the use of paging, but if you are using other methods, such as EWS proxy objects or raw SOAP, you need to explicitly set paging.</span></span> <span data-ttu-id="c57a7-350">O exemplo a seguir mostra como usar a paginação na API gerenciada do EWS.</span><span class="sxs-lookup"><span data-stu-id="c57a7-350">The following example shows how to use paging in the EWS Managed API.</span></span> 
  
```cs
ItemView iv = new ItemView(1000);
FindItemsResults<Item> fiFindItemResults = service.FindItems(WellKnownFolderName.Inbox, iv);
```

> [!NOTE]
> <span data-ttu-id="c57a7-351">A política padrão no Exchange limita o tamanho de página para itens de 1000.</span><span class="sxs-lookup"><span data-stu-id="c57a7-351">The default policy in Exchange limits the page size to 1000 items.</span></span> <span data-ttu-id="c57a7-352">Definir o tamanho da página como um valor que for maior do que esse número tem nenhum efeito prático.</span><span class="sxs-lookup"><span data-stu-id="c57a7-352">Setting the page size to a value that is greater than this number has no practical effect.</span></span> 
  
<span data-ttu-id="c57a7-353">Aplicativos também deve levar em consideração o fato de que o _EWSFindCountLimit_ limitação do valor do parâmetro pode resultar em um conjunto que está sendo retornada para aplicativos que fazem solicitações simultâneas de resultados parcial.</span><span class="sxs-lookup"><span data-stu-id="c57a7-353">Applications should also account for the fact that the  _EWSFindCountLimit_ throttling parameter value may result in a partial result set being returned for applications that make concurrent requests.</span></span> <span data-ttu-id="c57a7-354">O exemplo a seguir mostra como usar a propriedade **MoreAvailable** na API gerenciada do EWS para garantir que todos os resultados são incluídos em uma consulta.</span><span class="sxs-lookup"><span data-stu-id="c57a7-354">The following example shows how to use the **MoreAvailable** property in the EWS Managed API to ensure that all results are included in a query.</span></span> 
  
```cs
ItemView iv = new ItemView(1000);
service.TraceEnabled = false;
FindItemsResults<Item> fiResults = null;
Do 
{
    fiResults = service.FindItems(WellKnownFolderName.Inbox, iv);
    PropertySet itItemPropSet = new PropertySet(BasePropertySet.IdOnly) { EmailMessageSchema.Body };
    //Process Items in Result Set
    iv.Offset += fiResults.Items.Count;
}
while (fiResults.MoreAvailable == true);
```

## <a name="throttling-policies-and-concurrency"></a><span data-ttu-id="c57a7-355">Políticas de limitação e simultaneidade</span><span class="sxs-lookup"><span data-stu-id="c57a7-355">Throttling policies and concurrency</span></span>
<span data-ttu-id="c57a7-356"><a name="bk_ThrottlingConcurrency"> </a></span><span class="sxs-lookup"><span data-stu-id="c57a7-356"></span></span>

<span data-ttu-id="c57a7-357">Simultaneidade refere-se ao número de conexões de um usuário específico.</span><span class="sxs-lookup"><span data-stu-id="c57a7-357">Concurrency refers to the number of connections from a specific user.</span></span> <span data-ttu-id="c57a7-358">Uma conexão é mantido desde o momento em que uma solicitação for recebida até que uma resposta é enviada ao solicitante.</span><span class="sxs-lookup"><span data-stu-id="c57a7-358">A connection is held from the moment a request is received until a response is sent to the requester.</span></span> <span data-ttu-id="c57a7-359">Se os usuários tentarem tornar mais solicitações simultâneas que permite a sua política, a nova tentativa de conexão falha.</span><span class="sxs-lookup"><span data-stu-id="c57a7-359">If users try to make more concurrent requests than their policy allows, the new connection attempt fails.</span></span> <span data-ttu-id="c57a7-360">No entanto, as conexões existentes permanecerão válidas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-360">However, the existing connections remain valid.</span></span> <span data-ttu-id="c57a7-361">Políticas de limitação pode afetar simultaneidade de várias maneiras diferentes.</span><span class="sxs-lookup"><span data-stu-id="c57a7-361">Throttling policies can affect concurrency in a number of different ways.</span></span>
  
<span data-ttu-id="c57a7-362">O parâmetro de política de limitação **EWSMaxConcurrency** define o número de conexões simultâneas que um usuário específico pode ter ao mesmo tempo em relação a um servidor Exchange.</span><span class="sxs-lookup"><span data-stu-id="c57a7-362">The **EWSMaxConcurrency** throttling policy parameter sets the number of concurrent connections that a specific user can have against an Exchange server at one time.</span></span> <span data-ttu-id="c57a7-363">Para determinar o número máximo de conexões simultâneas para permitir, considere as conexões que os clientes do Outlook usará.</span><span class="sxs-lookup"><span data-stu-id="c57a7-363">To determine the maximum number of concurrent connections to allow, consider the connections that Outlook clients will use.</span></span> <span data-ttu-id="c57a7-364">Outlook 2007 e Outlook 2010 usam o EWS para acessar informações de disponibilidade e ausência temporária.</span><span class="sxs-lookup"><span data-stu-id="c57a7-364">Outlook 2007 and Outlook 2010 use EWS to access availability and Out of Office (OOF) information.</span></span> <span data-ttu-id="c57a7-365">Mac Outlook 2011 usa o EWS para todas as funcionalidades de acesso do cliente.</span><span class="sxs-lookup"><span data-stu-id="c57a7-365">Mac Outlook 2011 uses EWS for all client access functionality.</span></span> <span data-ttu-id="c57a7-366">Dependendo do número de clientes do Outlook que está se conectando ativamente a caixa de correio do usuário, o número de conexões simultâneas disponíveis para um usuário pode ser limitado.</span><span class="sxs-lookup"><span data-stu-id="c57a7-366">Depending on the number of Outlook clients that are actively connecting to a user's mailbox, the number of concurrent connections available for a user might be limited.</span></span> <span data-ttu-id="c57a7-367">Além disso, se seu aplicativo tiver conectem a várias caixas de correio simultaneamente durante o uso de um contexto de segurança único, é importante ser o valor da política **EWSMaxConcurrency** analisadas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-367">Also, if your application has to connect to multiple mailboxes simultaneously while using a single security context, it is important to take the value of the **EWSMaxConcurrency** policy into account.</span></span> <span data-ttu-id="c57a7-368">Para obter mais informações sobre como usar um contexto de segurança único com conexões simultâneas, consulte [Considerações de aceleração para aplicativos que utilizam a representação EWS](#bk_ThrottlingConsiderations) anteriormente neste artigo.</span><span class="sxs-lookup"><span data-stu-id="c57a7-368">For more information about using a single security context with concurrent connections, see [Throttling considerations for applications that use EWS impersonation](#bk_ThrottlingConsiderations) earlier in this article.</span></span> 
  
<span data-ttu-id="c57a7-369">Aplicativos que se conectam simultaneamente para várias caixas de correio precisam ser capaz de rastrear o uso de recursos no lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="c57a7-369">Applications that concurrently connect to multiple mailboxes have to be able to track resource usage on the client side.</span></span> <span data-ttu-id="c57a7-370">Como operações do EWS são baseados em solicitação/resposta, você pode assegurar que seus aplicativos funcionam bem dentro do limite de **EWSMaxConcurrency** controlando o número de conexões que ocorrem entre o início de uma solicitação e a resposta é recebidos e garantir que não mais de dez abrir solicitações ocorrer simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="c57a7-370">Because EWS operations are request/response-based, you can ensure that your applications function well within the **EWSMaxConcurrency** threshold by tracking the number of connections that occur between the start of a request and when the response is received and ensuring that no more than ten open requests occur concurrently.</span></span> 
  
<span data-ttu-id="c57a7-371">O parâmetro de política de **EWSFindCountLimit** Especifica o tamanho máximo de resultado que uma operação **FindItem** ou **FindFolder** pode usar em um servidor de acesso para cliente ao mesmo tempo para um usuário.</span><span class="sxs-lookup"><span data-stu-id="c57a7-371">The **EWSFindCountLimit** policy parameter specifies the maximum result size a **FindItem** or **FindFolder** operation can use on a Client Access server at the same time for one user.</span></span> <span data-ttu-id="c57a7-372">Se um aplicativo (ou potencialmente vários aplicativos) faz duas solicitações simultâneas do EWS **FindItem** que retornam 100 itens, cada um para um usuário específico, a carga de **EWSFindCountLimit** contra orçamento específico do usuário será 200.</span><span class="sxs-lookup"><span data-stu-id="c57a7-372">If an application (or potentially multiple applications) makes two concurrent EWS **FindItem** requests that return 100 items each for a specific user, the **EWSFindCountLimit** charge against that specific user's budget will be 200.</span></span> <span data-ttu-id="c57a7-373">Quando a primeira solicitação retorna, o orçamento cai para 100 e quando a segunda solicitação retorna, o orçamento cai para zero.</span><span class="sxs-lookup"><span data-stu-id="c57a7-373">When the first request returns, the budget drops to 100, and when the second request returns, the budget drops to zero.</span></span> <span data-ttu-id="c57a7-374">Se o mesmo aplicativo fosse fazer duas solicitações simultâneas para itens de 1000, o valor do orçamento seria itens 2000, que excede o valor de **EWSFindCountLimit** .</span><span class="sxs-lookup"><span data-stu-id="c57a7-374">If the same application were to make two simultaneous requests for 1000 items, the budget value would be 2000 items, which exceeds the **EWSFindCountLimit** value.</span></span> <span data-ttu-id="c57a7-375">Se o orçamento do usuário para itens cair abaixo de zero, a próxima solicitação resulta em erro até que o orçamento de usuário é recarregada a uma ou mais.</span><span class="sxs-lookup"><span data-stu-id="c57a7-375">If the user's budget for items drops below zero, the next request results in an error until the user's budget recharges to one or more.</span></span> 

<span data-ttu-id="c57a7-376"><a name="bk_ThrottlingNotifications"> </a></span><span class="sxs-lookup"><span data-stu-id="c57a7-376"></span></span>
  
## <a name="throttling-considerations-for-ews-notification-applications"></a><span data-ttu-id="c57a7-377">Considerações de limitação para aplicativos de notificação de EWS</span><span class="sxs-lookup"><span data-stu-id="c57a7-377">Throttling considerations for EWS notification applications</span></span>


<span data-ttu-id="c57a7-378">Se você estiver criando notificação EWS aplicativos que usam de envio, recepção ou streaming notificações, você deve considerar as implicações do **EWSMaxSubscriptions** e as políticas de limitação de **EWSMaxConcurrency** e o ** HangingConnectionLimit**.</span><span class="sxs-lookup"><span data-stu-id="c57a7-378">If you are building EWS notification applications that make use of either push, pull, or streaming notifications, you should consider the implications of the **EWSMaxSubscriptions** and the **EWSMaxConcurrency** throttling policies, and the **HangingConnectionLimit**.</span></span> 
  
<span data-ttu-id="c57a7-379">O parâmetro de política de **EWSMaxSubscriptions** Especifica o número máximo de inscrições de streaming que um usuário pode ter em um servidor de acesso para cliente específico ao mesmo tempo, recepção e push ativo.</span><span class="sxs-lookup"><span data-stu-id="c57a7-379">The **EWSMaxSubscriptions** policy parameter specifies the maximum number of active push, pull, and streaming subscriptions that a user can have on a specific Client Access server at the same time.</span></span> <span data-ttu-id="c57a7-380">Versões diferentes do Exchange têm valores padrão diferente para esse parâmetro.</span><span class="sxs-lookup"><span data-stu-id="c57a7-380">Different versions of Exchange have different default values for this parameter.</span></span> <span data-ttu-id="c57a7-381">Um usuário pode inscrever-se a todas as pastas em uma caixa de correio usando a propriedade **SubscribeToAllFolders** - usa a uma única assinatura em relação ao orçamento **EWSMaxSubscriptions** .</span><span class="sxs-lookup"><span data-stu-id="c57a7-381">A user can subscribe to all folders in a mailbox by using the **SubscribeToAllFolders** property - this uses a single subscription against the **EWSMaxSubscriptions** budget.</span></span> <span data-ttu-id="c57a7-382">Os usuários podem assinar pastas individuais, com cada pasta rumo o orçamento **EWSMaxSubscriptions** , até o limite de contagem de assinatura definida pelo valor do parâmetro **EWSMaxSubscriptions** (por exemplo, os usuários podem se inscrever no calendário 20 pastas nas caixas de correio diferentes se **EWSMaxSubscriptions** for definido como 20).</span><span class="sxs-lookup"><span data-stu-id="c57a7-382">Users can subscribe to individual folders, with each folder subscription counting towards the **EWSMaxSubscriptions** budget, up to the limit set by the value of the **EWSMaxSubscriptions** parameter (for example, users can subscribe to 20 calendar folders in different mailboxes if **EWSMaxSubscriptions** is set to 20).</span></span> 
  
<span data-ttu-id="c57a7-383">Para obter informações sobre representação e o parâmetro **EWSMaxSubscriptions** , consulte [Considerações de aceleração para aplicativos que utilizam a representação EWS](#bk_ThrottlingConsiderations) anteriormente neste artigo.</span><span class="sxs-lookup"><span data-stu-id="c57a7-383">For information about impersonation and the **EWSMaxSubscriptions** parameter, see [Throttling considerations for applications that use EWS impersonation](#bk_ThrottlingConsiderations) earlier in this article.</span></span> 
  
<span data-ttu-id="c57a7-384">O parâmetro de política **EWSMaxConcurrency** também pode ser um problema para notificações do EWS; Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="c57a7-384">The **EWSMaxConcurrency** policy parameter can also be an issue for EWS notifications; for example:</span></span> 
  
- <span data-ttu-id="c57a7-385">Quando o EWS incrementa a contagem de conexão para o proprietário da assinatura, enquanto a notificação está sendo gerada por uma inscrição de envio.</span><span class="sxs-lookup"><span data-stu-id="c57a7-385">When EWS increments the connection count for the owner of the subscription while the notification is being generated by a push subscription.</span></span>
    
- <span data-ttu-id="c57a7-386">Quando um aplicativo foi projetado para escutar a caixas de correio de vários usuários e os usuários recebem notificações simultâneas para uma instância de uma mensagem que será enviada para uma lista de distribuição.</span><span class="sxs-lookup"><span data-stu-id="c57a7-386">When an application is designed to listen to multiple users' mailboxes, and users receive simultaneous notifications for an instance of a message that is sent to a distribution list.</span></span>
    
<span data-ttu-id="c57a7-387">Se o aplicativo de notificação é multithreaded e faz solicitações simultâneas de conexão para obter mais informações sobre uma determinada mensagem foi recebida por uma conta de usuário, o limite de política **EWSMaxConcurrency** pode ser excedido.</span><span class="sxs-lookup"><span data-stu-id="c57a7-387">If the notification application is multithreaded and makes simultaneous connection requests to get more information about a particular message that was received by a user account, the **EWSMaxConcurrency** policy limit can be exceeded.</span></span> <span data-ttu-id="c57a7-388">Para justificar isso, considere as conexões simultâneas em seu aplicativo de monitoramento, inclusive aquelas que poderiam ser usadas pelo servidor e implementando a solicitação de enfileiramento de mensagens no cliente.</span><span class="sxs-lookup"><span data-stu-id="c57a7-388">To account for this, consider monitoring the concurrent connections in your application, including those that might be used by the server, and implementing request queuing on the client.</span></span> 
  
<span data-ttu-id="c57a7-389">O **HangingConnectionLimit** só é aplicável a notificações de fluxo contínuo.</span><span class="sxs-lookup"><span data-stu-id="c57a7-389">The **HangingConnectionLimit** is only applicable to streaming notifications.</span></span> <span data-ttu-id="c57a7-390">Esse limite é definido no arquivo Web. config, que significa que um administrador do Exchange pode definir esse valor em um servidor do Exchange local, mas as caixas de correio Exchange Online devem usar o valor padrão para esse limite, que é 3 para Exchange Online e Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="c57a7-390">This limit is set in the web.config file, which means that an Exchange administrator can set this value on an on-premises Exchange server, but Exchange Online mailboxes must use the default value for this limit, which is 3 for both Exchange Online and Exchange 2013.</span></span> <span data-ttu-id="c57a7-391">Para saber mais, consulte [quais valores limitação eu preciso levar em consideração?](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling).</span><span class="sxs-lookup"><span data-stu-id="c57a7-391">To learn more, see [What throttling values do I need to take into consideration?](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling).</span></span>
  
## <a name="throttling-policy-and-application-performance"></a><span data-ttu-id="c57a7-392">Limitação de desempenho de política e do aplicativo</span><span class="sxs-lookup"><span data-stu-id="c57a7-392">Throttling policy and application performance</span></span>
<span data-ttu-id="c57a7-393"><a name="bk_PercentTimeIn"> </a></span><span class="sxs-lookup"><span data-stu-id="c57a7-393"></span></span>

<span data-ttu-id="c57a7-394">Os seguintes três parâmetros de **PercentTimeIn** política de limitação afetam a quantidade de tempo que um aplicativo do EWS pode consumir em um servidor de acesso para cliente:</span><span class="sxs-lookup"><span data-stu-id="c57a7-394">The following three parameters of the **PercentTimeIn** throttling policy affect the amount of time an EWS application can consume on a Client Access server:</span></span> 
  
- <span data-ttu-id="c57a7-395">**EWSPercentTimeInAD**</span><span class="sxs-lookup"><span data-stu-id="c57a7-395">**EWSPercentTimeInAD**</span></span>
    
- <span data-ttu-id="c57a7-396">**EWSPercentTimeInCAS**</span><span class="sxs-lookup"><span data-stu-id="c57a7-396">**EWSPercentTimeInCAS**</span></span>
    
- <span data-ttu-id="c57a7-397">**EWSPercentTimeInMailboxRPC**</span><span class="sxs-lookup"><span data-stu-id="c57a7-397">**EWSPercentTimeInMailboxRPC**</span></span>
    
<span data-ttu-id="c57a7-398">Os valores especificados nos parâmetros de política de **PercentTimeIn** indicam a quantidade de tempo que é alocado fazendo uma solicitação de um segmento.</span><span class="sxs-lookup"><span data-stu-id="c57a7-398">The values specified in the **PercentTimeIn** policy parameters indicate the amount of time that one thread making one request is allocated.</span></span> <span data-ttu-id="c57a7-399">Por exemplo, supondo que um valor de **EWSPercentTimeInCAS** de 90, se um processo faz duas solicitações simultâneas que gastam 54 segundos cada código em execução no servidor de acesso para cliente, o processo usa 108 segundos em um segundo 60 janela.</span><span class="sxs-lookup"><span data-stu-id="c57a7-399">For example, assuming a **EWSPercentTimeInCAS** value of 90, if a process makes two concurrent requests that spend 54 seconds each running code on the Client Access server, the process uses 108 seconds in a 60 second window.</span></span> <span data-ttu-id="c57a7-400">Isso representa um valor de parâmetro **EWSPercentTimeInCAS** de 180%.</span><span class="sxs-lookup"><span data-stu-id="c57a7-400">This represents an **EWSPercentTimeInCAS** parameter value of 180 percent.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="c57a7-401">O valor do parâmetro **EWSPercentTimeInCAS** é um subconjunto de sobreposição dos valores de parâmetro **EWSPercentTimeInAD** e **EWSPercentTimeInMailboxRPC** .</span><span class="sxs-lookup"><span data-stu-id="c57a7-401">The **EWSPercentTimeInCAS** parameter value is an overlapping superset of the **EWSPercentTimeInAD** and **EWSPercentTimeInMailboxRPC** parameter values.</span></span> <span data-ttu-id="c57a7-402">Isso significa que as despesas em tempo de processamento do servidor de acesso para cliente sempre ser maior do que as despesas em **EWSPercentTimeInAD** e **EWSPercentTimeInMailboxRPC**.</span><span class="sxs-lookup"><span data-stu-id="c57a7-402">This means that the expenditure in Client Access server processing time will always be larger than the expenditures in **EWSPercentTimeInAD** and **EWSPercentTimeInMailboxRPC**.</span></span> <span data-ttu-id="c57a7-403">Isso ocorre porque para o componente do Exchange para um Active Directory ou uma chamada de RPC, ele deve já estar executando código do servidor de acesso para cliente.</span><span class="sxs-lookup"><span data-stu-id="c57a7-403">This is because for the Exchange component to make an Active Directory or RPC call, it must already be running Client Access server code.</span></span> <span data-ttu-id="c57a7-404">Além disso, as despesas no tempo de processamento para **EWSPercentTimeInCAS** não será interrompida enquanto LDAP ou chamadas RPC são feitas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-404">In addition, the expenditure in processing time for **EWSPercentTimeInCAS** doesn't stop while LDAP or RPC calls are being made.</span></span> <span data-ttu-id="c57a7-405">Embora a solicitação de maneira síncrona pode estar aguardando por uma resposta do serviços de domínio Active Directory (AD DS) ou o armazenamento do Exchange, o processo ainda está consumindo um segmento no servidor e, portanto, o thread deve continuar a ser cobrado por esse uso.</span><span class="sxs-lookup"><span data-stu-id="c57a7-405">Although the request might be synchronously waiting for a response from Active Directory Domain Services (AD DS) or the Exchange store, the process is still consuming a thread on the server, and therefore the thread should continue to be charged for that usage.</span></span> 
  
<span data-ttu-id="c57a7-406">A quantidade de tempo de CPU, que um aplicativo pode levar em um período de 60 segundos pode exceder essas redução dos limites; Portanto, é importante considerar o volume e o tipo de solicitações que estão sendo feitos.</span><span class="sxs-lookup"><span data-stu-id="c57a7-406">The amount of CPU time an application may take in a 60-second period might exceed these throttling limits; therefore, it is important to consider the volume and type of requests that are being made.</span></span> <span data-ttu-id="c57a7-407">Por exemplo, um lote grande de operações de **ResolveNames** que são feitas simultaneamente pode exceder o valor do parâmetro **EWSPercentTimeInAD** política.</span><span class="sxs-lookup"><span data-stu-id="c57a7-407">For example, a large batch of **ResolveNames** operations that are made simultaneously can exceed the **EWSPercentTimeInAD** policy parameter value.</span></span> <span data-ttu-id="c57a7-408">Os valores de política que estão contidos na política de limitação padrão foram projetados para permitir a maioria dos aplicativos do EWS funcionar sem problemas; No entanto, quando os aplicativos de alto volume multithread colocar um grande volume de solicitações em um determinado servidor de acesso para cliente, isso pode criar problemas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-408">The policy values that are contained in the default throttling policy are designed to allow most EWS applications to function without issue; however, when multithreaded high-volume applications place a large volume of requests on one particular Client Access server, this can create problems.</span></span> <span data-ttu-id="c57a7-409">Para evitar isso, considere a possibilidade de limitar o tamanho de lotes que irá executar com base no servidor.</span><span class="sxs-lookup"><span data-stu-id="c57a7-409">To avoid this, consider limiting the size of batches that are going to execute against the server.</span></span> 
  
## <a name="throttling-policies-and-applications-that-send-a-large-volume-of-email"></a><span data-ttu-id="c57a7-410">Políticas de limitação e aplicativos que enviam um grande volume de email</span><span class="sxs-lookup"><span data-stu-id="c57a7-410">Throttling policies and applications that send a large volume of email</span></span>
<span data-ttu-id="c57a7-411"><a name="bk_RateLimits"> </a></span><span class="sxs-lookup"><span data-stu-id="c57a7-411"></span></span>

<span data-ttu-id="c57a7-412">As políticas de limitação padrão incluem três parâmetros de política de limite de taxa que podem afetar a aplicativos que usam o EWS para enviar um grande volume de mensagens ou enviar mensagens em grandes lotes em um curto período de tempo.</span><span class="sxs-lookup"><span data-stu-id="c57a7-412">The default throttling policies include three rate limit policy parameters that can affect applications that use EWS to send a large volume of messages or send messages in large batches in a short period of time.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="c57a7-413">Em geral, é recomendável que você não usar o EWS para enviar emails em massa.</span><span class="sxs-lookup"><span data-stu-id="c57a7-413">In general, we recommend that you do not use EWS to send bulk email.</span></span> <span data-ttu-id="c57a7-414">Use um host de SMTP especializada em serviços de email em massa para enviar mensagens de email em massa de grandes frequentes.</span><span class="sxs-lookup"><span data-stu-id="c57a7-414">Use an SMTP host that specializes in bulk mail services to submit frequent large bulk email messages.</span></span> 
  
<span data-ttu-id="c57a7-415">O parâmetro de política de **MessageRateLimit** Especifica o número de mensagens por minuto que possa ser enviado por qualquer cliente do Exchange, incluindo o EWS.</span><span class="sxs-lookup"><span data-stu-id="c57a7-415">The **MessageRateLimit** policy parameter specifies the number of messages per minute that can be submitted by any Exchange client, including EWS.</span></span> <span data-ttu-id="c57a7-416">Por padrão, essa diretiva estiver definida como 30 mensagens por minuto.</span><span class="sxs-lookup"><span data-stu-id="c57a7-416">By default, this policy is set to 30 messages per minute.</span></span> <span data-ttu-id="c57a7-417">Para usuários comuns, isso é geralmente suficiente.</span><span class="sxs-lookup"><span data-stu-id="c57a7-417">For ordinary users, this is generally sufficient.</span></span> <span data-ttu-id="c57a7-418">No entanto, aplicativos que enviam grandes lotes das mensagens de email, por exemplo, como parte de um programa de faturamento, poderá ter problemas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-418">However, applications that send large batches of email messages, for example as part of an invoicing program, can run into problems.</span></span> <span data-ttu-id="c57a7-419">Quando esse limite de política for excedido, a entrega de mensagens da caixa de correio foi adiada.</span><span class="sxs-lookup"><span data-stu-id="c57a7-419">When this policy limit is exceeded, message delivery for the mailbox is delayed.</span></span> <span data-ttu-id="c57a7-420">Especificamente, as mensagens serão exibidas na pasta Rascunhos ou de caixa de saída por longos períodos de tempo quando um usuário ou aplicativo envia um número maior de mensagens que o valor especificado pelo parâmetro **MessageRateLimit** .</span><span class="sxs-lookup"><span data-stu-id="c57a7-420">Specifically, messages will appear in the Outbox or Drafts folder for longer periods of time when a user or application submits a larger number of messages than the value specified by the **MessageRateLimit** parameter.</span></span> <span data-ttu-id="c57a7-421">Certifique-se de considerar isso quando você estiver desenvolvendo uma entrega acompanhamento do sistema, especialmente se o aplicativo usa uma caixa de correio que os usuários se conectam por meio do Outlook.</span><span class="sxs-lookup"><span data-stu-id="c57a7-421">Be sure to consider this when you are developing a delivery tracking system, especially if your application uses a mailbox that users connect to via Outlook.</span></span> <span data-ttu-id="c57a7-422">Quando itens adiadas são armazenados na pasta Rascunhos ou de caixa de saída, os usuários podem interpretar como um erro.</span><span class="sxs-lookup"><span data-stu-id="c57a7-422">When deferred items are stored in the Outbox or drafts folder, users might interpret that as an error.</span></span> 
  
<span data-ttu-id="c57a7-423">O parâmetro de política **RecipientRateLimit** Especifica o limite no número de destinatários que um usuário pode endereçar em um período de 24 horas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-423">The **RecipientRateLimit** policy parameter specifies the limit on the number of recipients that a user can address in a 24-hour period.</span></span> <span data-ttu-id="c57a7-424">Por exemplo, se esse valor é definido como 500, isso significa que uma única conta de caixa de correio do Exchange pode enviar mensagens para nenhum dia de mais de 500 destinatários.</span><span class="sxs-lookup"><span data-stu-id="c57a7-424">For example, if this value is set to 500, it means that a single Exchange mailbox account can send messages to no more than 500 recipients each day.</span></span> <span data-ttu-id="c57a7-425">Esse limite é aplicável às mensagens para destinatários que estão dentro e fora da organização.</span><span class="sxs-lookup"><span data-stu-id="c57a7-425">This limit applies to messages to recipients that are inside and outside the organization.</span></span> <span data-ttu-id="c57a7-426">Esse limite padrão pode causar problemas para alguns aplicativos de linha de negócios que faça execuções de faturas do final do mês e precisam enviar mensagens para maior do que esse número de destinatários.</span><span class="sxs-lookup"><span data-stu-id="c57a7-426">This default limit might cause problems for some line-of-business applications that do end-of-month invoice runs and need to send messages to more than this number of recipients.</span></span> <span data-ttu-id="c57a7-427">Você pode usar os serviços externos que permitem o processamento em lotes de mensagens ou soluções de retransmissão de saída de locais separados para contornar esta limitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-427">You can use external services that enable batch processing of messages or separate on-premises outbound relay solutions to work around this limitation.</span></span> 
  
<span data-ttu-id="c57a7-428">O parâmetro de política de **ForwardeeLimit** Especifica o número máximo de destinatários que as mensagens podem ser encaminhadas ou redirecionadas para por meio de regras de caixa de entrada.</span><span class="sxs-lookup"><span data-stu-id="c57a7-428">The **ForwardeeLimit** policy parameter specifies the maximum number of recipients that messages can be forwarded or redirected to by means of Inbox rules.</span></span> <span data-ttu-id="c57a7-429">Esse parâmetro não limita o número de mensagens que podem ser encaminhadas ou redirecionados para os destinatários.</span><span class="sxs-lookup"><span data-stu-id="c57a7-429">This parameter doesn't limit the number of messages that can be forwarded or redirected to the recipients.</span></span> 
  
## <a name="errors-generated-when-throttling-limits-are-exceeded"></a><span data-ttu-id="c57a7-430">Erros gerados quando os limites de limitação são excedidos</span><span class="sxs-lookup"><span data-stu-id="c57a7-430">Errors generated when throttling limits are exceeded</span></span>
<span data-ttu-id="c57a7-431"><a name="bk_ThrottlingErrors"> </a></span><span class="sxs-lookup"><span data-stu-id="c57a7-431"></span></span>

<span data-ttu-id="c57a7-432">Quando limitação as diretivas são excedidos, EWS gera um dos erros listados na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="c57a7-432">When throttling polices are exceeded, EWS generates one of the errors listed in the following table.</span></span>
  
<span data-ttu-id="c57a7-433">**Tabela 3: Erros de limite limitação**</span><span class="sxs-lookup"><span data-stu-id="c57a7-433">**Table 3: Throttling limit errors**</span></span>

|<span data-ttu-id="c57a7-434">**Erro**</span><span class="sxs-lookup"><span data-stu-id="c57a7-434">**Error**</span></span>|<span data-ttu-id="c57a7-435">**Parâmetro de política de limitação**</span><span class="sxs-lookup"><span data-stu-id="c57a7-435">**Throttling policy parameter**</span></span>|<span data-ttu-id="c57a7-436">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="c57a7-436">**Description**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="c57a7-437">ErrorExceededConnectionCount</span><span class="sxs-lookup"><span data-stu-id="c57a7-437">ErrorExceededConnectionCount</span></span>  <br/> |<span data-ttu-id="c57a7-438">**EWSMaxConcurrency**</span><span class="sxs-lookup"><span data-stu-id="c57a7-438">**EWSMaxConcurrency**</span></span> <br/> |<span data-ttu-id="c57a7-439">Indica que não existem mais solicitações simultâneas com base no servidor que o permitido pela política do usuário.</span><span class="sxs-lookup"><span data-stu-id="c57a7-439">Indicates that there are more concurrent requests against the server than are allowed by a user's policy.</span></span>  <br/> |
|<span data-ttu-id="c57a7-440">ErrorExceededSubscriptionCount</span><span class="sxs-lookup"><span data-stu-id="c57a7-440">ErrorExceededSubscriptionCount</span></span>  <br/> |<span data-ttu-id="c57a7-441">**EWSMaxSubscriptions**</span><span class="sxs-lookup"><span data-stu-id="c57a7-441">**EWSMaxSubscriptions**</span></span> <br/> |<span data-ttu-id="c57a7-442">Indica que um usuário da contagem de assinatura máximo foi excedida de política de limitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-442">Indicates that a user's throttling policy maximum subscription count has been exceeded.</span></span>  <br/> |
|<span data-ttu-id="c57a7-443">ErrorExceededFindCountLimit</span><span class="sxs-lookup"><span data-stu-id="c57a7-443">ErrorExceededFindCountLimit</span></span>  <br/> |<span data-ttu-id="c57a7-444">**EWSFindCountLimit**</span><span class="sxs-lookup"><span data-stu-id="c57a7-444">**EWSFindCountLimit**</span></span> <br/> |<span data-ttu-id="c57a7-445">Indica que uma chamada de operação de pesquisa excedeu o número total de itens que podem ser retornadas.</span><span class="sxs-lookup"><span data-stu-id="c57a7-445">Indicates that a search operation call has exceeded the total number of items that can be returned.</span></span>  <br/> |
|<span data-ttu-id="c57a7-446">ErrorServerBusy</span><span class="sxs-lookup"><span data-stu-id="c57a7-446">ErrorServerBusy</span></span>  <br/> |<span data-ttu-id="c57a7-447">**EWSPercentTimeInMailboxRPC** **EWSPercentTimeInCAS** **EWSPercentTimeInAD**                  </span><span class="sxs-lookup"><span data-stu-id="c57a7-447">**EWSPercentTimeInMailboxRPC**         **EWSPercentTimeInCAS**         **EWSPercentTimeInAD**</span></span> <br/> |<span data-ttu-id="c57a7-448">Ocorre quando o servidor está ocupado.</span><span class="sxs-lookup"><span data-stu-id="c57a7-448">Occurs when the server is busy.</span></span> <span data-ttu-id="c57a7-449">O valor de BackOffMilliseconds retornado com erros ErrorServerBusy indica para o cliente a quantidade de tempo que ele deve aguardar até que ele deve reenviar a solicitação que causou a resposta que retornou este código de erro.</span><span class="sxs-lookup"><span data-stu-id="c57a7-449">The BackOffMilliseconds value returned with ErrorServerBusy errors indicates to the client the amount of time it should wait until it should resubmit the request that caused the response that returned this error code.</span></span>  <br/> |
   
<span data-ttu-id="c57a7-450">A tabela a seguir lista os códigos de status HTTP que são retornados por erros de limitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-450">The following table lists the HTTP status codes that are returned by throttling errors.</span></span>
  
<span data-ttu-id="c57a7-451">**Tabela 4: Códigos de status HTTP retornados por erros de limitação**</span><span class="sxs-lookup"><span data-stu-id="c57a7-451">**Table 4: HTTP status codes returned by throttling errors**</span></span>

|<span data-ttu-id="c57a7-452">**Código de status de HTTP**</span><span class="sxs-lookup"><span data-stu-id="c57a7-452">**HTTP status code**</span></span>|<span data-ttu-id="c57a7-453">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="c57a7-453">**Description**</span></span>|
|:-----|:-----|
|<span data-ttu-id="c57a7-454">HTTP 503</span><span class="sxs-lookup"><span data-stu-id="c57a7-454">HTTP 503</span></span>  <br/> |<span data-ttu-id="c57a7-455">Indica que o EWS solicitações são enfileiramento com o IIS.</span><span class="sxs-lookup"><span data-stu-id="c57a7-455">Indicates that EWS requests are queuing with IIS.</span></span> <span data-ttu-id="c57a7-456">O cliente deve atrasar a enviar solicitações adicionais até um momento posterior.</span><span class="sxs-lookup"><span data-stu-id="c57a7-456">The client should delay sending additional requests until a later time.</span></span>  <br/> |
|<span data-ttu-id="c57a7-457">HTTP 500</span><span class="sxs-lookup"><span data-stu-id="c57a7-457">HTTP 500</span></span>  <br/> |<span data-ttu-id="c57a7-458">Indica um erro de servidor interno com o código de erro ErrorServerBusy.</span><span class="sxs-lookup"><span data-stu-id="c57a7-458">Indicates an internal server error with the ErrorServerBusy error code.</span></span> <span data-ttu-id="c57a7-459">Isso indica que o cliente deve atrasar enviando solicitações adicionais até um momento posterior.</span><span class="sxs-lookup"><span data-stu-id="c57a7-459">This indicates that the client should delay sending additional requests until a later time.</span></span> <span data-ttu-id="c57a7-460">A resposta pode conter uma dica chamada BackOffMilliseconds de retirada.</span><span class="sxs-lookup"><span data-stu-id="c57a7-460">The response may contain a back off hint called BackOffMilliseconds.</span></span> <span data-ttu-id="c57a7-461">Se presente, o valor da BackOffMilliseconds deverão ser usado como a duração, até que o cliente reenvia uma solicitação.</span><span class="sxs-lookup"><span data-stu-id="c57a7-461">If present, the value of BackOffMilliseconds should be used as the duration until the client resubmits a request.</span></span>  <br/> |
|<span data-ttu-id="c57a7-462">HTTP 200</span><span class="sxs-lookup"><span data-stu-id="c57a7-462">HTTP 200</span></span>  <br/> |<span data-ttu-id="c57a7-463">Contém uma resposta de erro baseada em esquema EWS com um código de erro ErrorInternalServerError.</span><span class="sxs-lookup"><span data-stu-id="c57a7-463">Contains an EWS schema-based error response with an ErrorInternalServerError error code.</span></span> <span data-ttu-id="c57a7-464">Um código de erro ErrorServerBusy inner pode estar presente.</span><span class="sxs-lookup"><span data-stu-id="c57a7-464">An inner ErrorServerBusy error code may be present.</span></span> <span data-ttu-id="c57a7-465">Isso indica que o cliente deve atrasar enviando solicitações adicionais até um momento posterior.</span><span class="sxs-lookup"><span data-stu-id="c57a7-465">This indicates that the client should delay sending additional requests until a later time.</span></span>  <br/> |
   
## <a name="see-also"></a><span data-ttu-id="c57a7-466">Confira também</span><span class="sxs-lookup"><span data-stu-id="c57a7-466">See also</span></span>

- [<span data-ttu-id="c57a7-467">Gerenciamento de carga de trabalho do Exchange</span><span class="sxs-lookup"><span data-stu-id="c57a7-467">Exchange Workload Management</span></span>](http://technet.microsoft.com/en-us/library/jj150503.aspx)
- [<span data-ttu-id="c57a7-468">Cmdlet New-ThrottlingPolicy</span><span class="sxs-lookup"><span data-stu-id="c57a7-468">New-ThrottlingPolicy cmdlet</span></span>](http://technet.microsoft.com/en-us/library/dd351045.aspx)
- [<span data-ttu-id="c57a7-469">Noções básicas sobre políticas de limitação do cliente</span><span class="sxs-lookup"><span data-stu-id="c57a7-469">Understanding Client Throttling Policies</span></span>](http://technet.microsoft.com/en-us/library/dd297964.aspx)
- [<span data-ttu-id="c57a7-470">Classe de ThrottlingPolicy</span><span class="sxs-lookup"><span data-stu-id="c57a7-470">ThrottlingPolicy Class</span></span>](http://msdn.microsoft.com/en-us/library/ff342496%28v=EXCHG.140%29.aspx)
- [<span data-ttu-id="c57a7-471">Políticas de limitação e o EWSFindCountLimit</span><span class="sxs-lookup"><span data-stu-id="c57a7-471">Throttling Policies and the EWSFindCountLimit</span></span>](http://blogs.msdn.com/b/exchangedev/archive/2010/03/12/throttling-policies-and-the-ewsfindcountlimit.aspx)
- [<span data-ttu-id="c57a7-472">Instantâneos de orçamento nos Logs do IIS</span><span class="sxs-lookup"><span data-stu-id="c57a7-472">Budget Snapshots in the IIS Logs</span></span>](http://blogs.msdn.com/b/exchangedev/archive/2010/03/10/budget-snapshots-in-the-iis-logs.aspx)
- [<span data-ttu-id="c57a7-473">Efeitos da limitação na sua implantação do Exchange 2010 SP1</span><span class="sxs-lookup"><span data-stu-id="c57a7-473">Effects of Throttling on Your Deployment in Exchange 2010 SP1</span></span>](http://msexchangeteam.com/archive/2010/08/27/456040.aspx)
- [<span data-ttu-id="c57a7-474">Associações de política de limitação no Exchange 2010 SP1</span><span class="sxs-lookup"><span data-stu-id="c57a7-474">Throttling Policy Associations in Exchange 2010 SP1</span></span>](http://msexchangeteam.com/archive/2010/08/02/455707.aspx)
- [<span data-ttu-id="c57a7-475">Políticas de limitação e CPUStartPercent</span><span class="sxs-lookup"><span data-stu-id="c57a7-475">Throttling Policies and CPUStartPercent</span></span>](http://blogs.msdn.com/b/exchangedev/archive/2010/03/11/throttling-policies-and-cpustartpercent.aspx)
- [<span data-ttu-id="c57a7-476">Representação e EWS no Exchange</span><span class="sxs-lookup"><span data-stu-id="c57a7-476">Impersonation and EWS in Exchange</span></span>](impersonation-and-ews-in-exchange.md)
    

